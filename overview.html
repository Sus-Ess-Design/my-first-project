<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aiagent-farm-poc - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</title>
<!-- Mermaid CDN -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>

<!-- JavaScript -->
<script>
// ===== Diagram Definitions (stored as JS strings for on-demand rendering) =====
const DIAGRAMS = {
'arch': {
    title: 'ğŸ—ï¸ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³',
    def: `graph TB
    subgraph UserLayer["User Layer"]
        Browser["Web Browser"]
    end
    subgraph UILayer["Streamlit UI Layer"]
        UnifiedApp["chatbot_unified.py<br>port 8503"]
        LegacyApp["chatbot_web_streamlit.py<br>port 8501"]
        LCApp["chatbot_langchain_streamlit.py<br>Phase 5B"]
    end
    subgraph AgentLayer["Agent Layer"]
        AgentMgr["LangChainAgentManager<br>ReAct Loop Control<br>300s Timeout"]
        AgentExec["AgentExecutor<br>Tool Execution<br>Max 5 Iterations"]
    end
    subgraph ToolLayer["Tool Layer"]
        RAGTool["RAG Search Tool<br>document_search_tool"]
        CalcTool["Calculator Tool<br>NPK / Planting"]
        WeatherTool["Weather Tool<br>Open-Meteo API"]
        Neo4jTool["Knowledge Graph Tool<br>Neo4j Cypher"]
    end
    subgraph RAGLayer["RAG Layer"]
        RAGMgr["LangChainRAGManager<br>LCEL QA Chain"]
        TextSplit["RecursiveCharacter<br>TextSplitter<br>chunk 500 / overlap 50"]
        Embed["HuggingFace Embeddings<br>all-MiniLM-L6-v2"]
        Retriever["FAISS Retriever<br>similarity search<br>top-k 2-4"]
    end
    subgraph LegacyRAGLayer["Legacy RAG Layer"]
        LegacyEmbed["SentenceTransformer"]
        LegacyFAISS["FAISS IndexFlatL2"]
        LegacyClassify["agent_tools<br>Question Classify"]
        LegacyCalc["tools/calculator.py"]
        LegacyWeather["tools/weather.py"]
        LegacyMemory["tools/memory.py"]
    end
    subgraph StorageLayer["Storage Layer"]
        FAISS["FAISS VectorStore<br>vectorstore/langchain_faiss/"]
        Docs["Agriculture Documents<br>docs/ja/ docs/en/"]
        Neo4jDB["Neo4j 5.13.0<br>Docker port 7687"]
        Memory["ConversationBufferMemory"]
    end
    subgraph ExternalLayer["External Services"]
        Ollama["Ollama Server<br>localhost:11434<br>phi3:mini / gemma2:2b"]
        WeatherAPI["Open-Meteo API<br>api.open-meteo.com"]
    end
    Browser --> UnifiedApp
    Browser --> LegacyApp
    UnifiedApp --> AgentMgr
    UnifiedApp --> RAGMgr
    LegacyApp --> LegacyClassify
    LegacyApp --> LegacyEmbed
    AgentMgr --> AgentExec
    AgentExec --> RAGTool
    AgentExec --> CalcTool
    AgentExec --> WeatherTool
    AgentExec --> Neo4jTool
    RAGTool --> RAGMgr
    RAGMgr --> TextSplit
    RAGMgr --> Embed
    RAGMgr --> Retriever
    TextSplit --> Docs
    Retriever --> FAISS
    Neo4jTool --> Neo4jDB
    WeatherTool --> WeatherAPI
    RAGMgr --> Ollama
    AgentMgr --> Ollama
    AgentMgr --> Memory
    LegacyClassify --> LegacyCalc
    LegacyClassify --> LegacyWeather
    LegacyClassify --> LegacyMemory
    LegacyEmbed --> LegacyFAISS
    LegacyApp --> Ollama
    LegacyApp --> Neo4jDB
    classDef ui fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    classDef agent fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    classDef tool fill:#FFF3E0,stroke:#FF9800,stroke-width:2px
    classDef storage fill:#F3E5F5,stroke:#9C27B0,stroke-width:2px
    classDef ext fill:#FFEBEE,stroke:#F44336,stroke-width:2px
    classDef rag fill:#E0F2F1,stroke:#009688,stroke-width:2px
    class UnifiedApp,LegacyApp,LCApp ui
    class AgentMgr,AgentExec agent
    class RAGTool,CalcTool,WeatherTool,Neo4jTool tool
    class FAISS,Docs,Neo4jDB,Memory storage
    class Ollama,WeatherAPI ext
    class RAGMgr,TextSplit,Embed,Retriever rag`
},
'agent-flow': {
    title: 'ğŸ¤– ReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‡¦ç†ãƒ•ãƒ­ãƒ¼',
    def: `flowchart TD
    Start([User Question]) --> Extract[Entity Extraction<br>crop / season / disease]
    Extract --> MemSearch[Memory Search<br>chat_history]
    MemSearch --> Invoke[AgentExecutor.invoke<br>input + chat_history]
    Invoke --> Think{Thought<br>Analyze Question}
    Think -->|Tool needed| SelectTool{Select Tool}
    Think -->|Can answer| FinalAns[Final Answer]
    SelectTool -->|document_search_tool| RAG[RAG Search<br>FAISS + QA Chain]
    SelectTool -->|calculator_tool| Calc[Calculator<br>NPK / Planting]
    SelectTool -->|weather_tool| Weather[Weather Info<br>Open-Meteo API]
    SelectTool -->|knowledge_graph_tool| Neo4j[Knowledge Graph<br>Neo4j Cypher]
    RAG --> Observe[Observation<br>Tool Result]
    Calc --> Observe
    Weather --> Observe
    Neo4j --> Observe
    Observe --> IterCheck{Iteration Check<br>max 5}
    IterCheck -->|Need more info| Think
    IterCheck -->|Sufficient| FinalAns
    IterCheck -->|Limit reached| FinalAns
    FinalAns --> Parse[Parse Output<br>Remove extra text]
    Parse --> SaveMem[Save to Memory]
    SaveMem --> TimeCheck{Timeout Check<br>300 seconds}
    TimeCheck -->|Within time| Result[Return Result<br>output + steps + time]
    TimeCheck -->|Timeout| Timeout[Timeout Response]
    Result --> Display[Streamlit Display<br>Answer + Tool History]
    Timeout --> Display
    style Start fill:#C8E6C9,stroke:#388E3C
    style FinalAns fill:#BBDEFB,stroke:#1976D2
    style Think fill:#FFF9C4,stroke:#F9A825
    style SelectTool fill:#FFE0B2,stroke:#EF6C00
    style Display fill:#E1BEE7,stroke:#7B1FA2`
},
'rag-pipeline': {
    title: 'ğŸ“š RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è©³ç´°',
    def: `flowchart LR
    subgraph Ingest["Ingest Phase"]
        direction TB
        DocsDir["docs/ja/ docs/en/"]
        Extract["Text Extraction<br>PDF / DOCX / TXT"]
        Meta["Metadata Extraction<br>crop / doc_type"]
        Split["Chunk Split<br>size 500 / overlap 50"]
        EmbedI["Embedding<br>all-MiniLM-L6-v2<br>384 dim vectors"]
        Index["FAISS Index<br>IndexFlatL2"]
        DocsDir --> Extract --> Meta --> Split --> EmbedI --> Index
    end
    subgraph QueryPhase["Query Phase"]
        direction TB
        Question["User Question"]
        QEmbed["Question Embedding<br>all-MiniLM-L6-v2"]
        Search["Similarity Search<br>FAISS top-k 2"]
        Filter["Metadata Filter<br>crop / doc_type"]
        Context["Context Combine<br>format_docs"]
        Question --> QEmbed --> Search --> Filter --> Context
    end
    subgraph Generate["Generate Phase"]
        direction TB
        Prompt["PromptTemplate<br>context + question"]
        LLM["Ollama LLM<br>phi3:mini<br>temp 0.7 / max 512"]
        Parser["StrOutputParser<br>LCEL Pipeline"]
        Prompt --> LLM --> Parser
    end
    Index -.-> Search
    Context --> Prompt
    Parser --> Answer[Answer]
    style Ingest fill:#E8F5E9,stroke:#4CAF50
    style QueryPhase fill:#E3F2FD,stroke:#2196F3
    style Generate fill:#FFF3E0,stroke:#FF9800`
},
'neo4j-schema': {
    title: 'ğŸ”— Neo4j çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‚¹ã‚­ãƒ¼ãƒ',
    def: `graph LR
    subgraph CropNodes["Crop Nodes"]
        Tomato["Tomato<br>Crop"]
        MiniTomato["Mini Tomato<br>Crop"]
        Cucumber["Cucumber<br>Crop"]
    end
    subgraph DiseaseNodes["Disease Nodes"]
        TYLCV["TYLCV<br>Disease<br>severity: high"]
        Powdery["Powdery Mildew<br>Disease<br>severity: medium"]
        GrayMold["Gray Mold<br>Disease<br>severity: high"]
    end
    subgraph PestNodes["Pest Nodes"]
        Whitefly["Whitefly<br>Pest<br>TYLCV vector"]
        Aphid["Aphid<br>Pest"]
    end
    subgraph TreatmentNodes["Treatment Nodes"]
        Net["0.4mm Net<br>Treatment step 1<br>effectiveness: high"]
        Remove["Remove Infected<br>Treatment step 2<br>effectiveness: high"]
        Pesticide["Pesticide Spray<br>Treatment step 3<br>effectiveness: medium"]
    end
    subgraph SeasonNodes["Season Nodes"]
        Seedling["Seedling Stage<br>Feb-Apr"]
        Growing["Growing Stage<br>May-Jul"]
        Harvest["Harvest Stage<br>Jul-Sep"]
    end
    Tomato -->|AFFECTED_BY| TYLCV
    MiniTomato -->|AFFECTED_BY| TYLCV
    TYLCV -->|CAUSED_BY| Whitefly
    TYLCV -->|TREATED_WITH priority 1| Net
    TYLCV -->|TREATED_WITH priority 2| Remove
    Tomato -->|GROWN_IN| Seedling
    TYLCV -->|OCCURS_IN| Seedling
    classDef crop fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    classDef disease fill:#FFCDD2,stroke:#C62828,stroke-width:2px
    classDef pest fill:#FFE0B2,stroke:#EF6C00,stroke-width:2px
    classDef treatment fill:#BBDEFB,stroke:#1565C0,stroke-width:2px
    classDef season fill:#FFF9C4,stroke:#F9A825,stroke-width:2px
    class Tomato,MiniTomato,Cucumber crop
    class TYLCV,Powdery,GrayMold disease
    class Whitefly,Aphid pest
    class Net,Remove,Pesticide treatment
    class Seedling,Growing,Harvest season`
},
'seq-chat': {
    title: 'ğŸ’¬ ãƒãƒ£ãƒƒãƒˆå‡¦ç†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³',
    def: `sequenceDiagram
    actor User
    participant UI as Streamlit UI
    participant Agent as AgentManager
    participant Exec as AgentExecutor
    participant LLM as Ollama LLM
    participant RAG as RAG Tool
    participant VDB as FAISS
    participant Calc as Calculator
    User->>UI: Input question
    UI->>UI: Show progress
    UI->>Agent: run question max_iterations 5
    Agent->>Agent: Extract entities
    Agent->>Agent: Get chat_history from memory
    Agent->>Exec: invoke input and chat_history
    Note over Exec,LLM: ReAct Loop Iteration 1
    Exec->>LLM: Thought - analyze question
    LLM-->>Exec: Action - document_search_tool
    Exec->>RAG: Search query
    RAG->>VDB: similarity_search query k=2
    VDB-->>RAG: 2 related chunks
    RAG->>LLM: QA chain with context
    LLM-->>RAG: Answer text
    RAG-->>Exec: Observation - search results
    Note over Exec,LLM: ReAct Loop Iteration 2
    Exec->>LLM: Thought - need calculation
    LLM-->>Exec: Action - calculator_tool
    Exec->>Calc: Fertilizer calculation
    Calc-->>Exec: Observation - N 150g P 200g K 150g
    Note over Exec,LLM: ReAct Loop Iteration 3
    Exec->>LLM: Thought - sufficient info
    LLM-->>Exec: Final Answer
    Exec-->>Agent: result with output and steps
    Agent->>Agent: Parse output
    Agent->>Agent: Save to memory
    Agent-->>UI: output steps time iterations
    UI->>UI: Add to chat history
    UI->>User: Display answer and tool history`
},
'seq-rag': {
    title: 'ğŸ” RAGåˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³',
    def: `sequenceDiagram
    actor User
    participant UI as Streamlit
    participant RAG as RAGManager
    participant FS as FileSystem
    participant HF as HuggingFace
    participant VDB as FAISS
    participant LLM as Ollama
    participant Agent as AgentManager
    User->>UI: Click Build button
    UI->>UI: Show spinner
    Note over RAG: Step 1 - RAGManager Init
    UI->>RAG: new LangChainRAGManager
    RAG->>HF: Load embedding model
    HF-->>RAG: all-MiniLM-L6-v2
    RAG->>LLM: Init OllamaLLM
    LLM-->>RAG: llm instance
    Note over RAG: Step 2 - Build VectorStore
    UI->>RAG: build_vectorstore 500 50
    RAG->>FS: Load docs from docs/ja/
    FS-->>RAG: Text and metadata
    RAG->>RAG: Split into N chunks
    RAG->>HF: Compute embeddings
    HF-->>RAG: Vector array
    RAG->>VDB: FAISS.from_documents
    VDB-->>RAG: vectorstore
    Note over RAG: Step 3 - Create QA Chain
    UI->>RAG: create_qa_chain k=2
    RAG->>RAG: Create PromptTemplate
    RAG->>VDB: as_retriever similarity k=2
    VDB-->>RAG: retriever
    RAG->>RAG: Build LCEL pipeline
    RAG-->>UI: RAG init complete
    Note over Agent: Step 4 - Agent Init
    UI->>Agent: new AgentManager
    Agent->>LLM: Init ChatOllama
    Agent->>Agent: Setup tools x4
    Agent->>Agent: Init memory
    UI->>Agent: create_agent
    Agent->>Agent: create_react_agent
    Agent->>Agent: Create AgentExecutor
    Agent-->>UI: Agent init complete
    UI->>UI: Save session_state
    UI->>User: System ready`
},
'class-diagram': {
    title: 'ğŸ“ ã‚¯ãƒ©ã‚¹å›³',
    def: `classDiagram
    class LangChainAgentManager {
        -String model_name
        -String lang
        -ChatOllama llm
        -List tools
        -Memory memory
        -Dict entities
        -Agent agent
        -AgentExecutor executor
        +create_agent()
        +run(question, verbose, max_iter, timeout) Dict
        +get_memory_stats() Dict
        +clear_memory()
        +get_tool_names() List
        -_setup_tools() List
        -_extract_entities(text)
        -_parse_llm_output(text) String
    }
    class LangChainRAGManager {
        -String docs_dir
        -String lang
        -String model_name
        -Embeddings embeddings
        -OllamaLLM llm
        -FAISS vectorstore
        -Chain qa_chain
        -Retriever retriever
        +extract_text_from_file(path) String
        +extract_crop_from_filename(name) String
        +load_documents() List
        +build_vectorstore(chunk_size, overlap) int
        +create_qa_chain(k)
        +query(question, filter, verbose) Dict
        +save_vectorstore(path)
        +load_vectorstore(path)
    }
    class Neo4jManager {
        -Driver driver
        +close()
        +create_schema()
        +import_sample_data()
        +get_statistics() Dict
        +find_disease_by_crop(name) List
        +find_treatment_path(crop, symptom) List
        +get_related_pests(disease) List
    }
    class ShortTermMemory {
        -int max_history
        -Deque history
        +add_conversation(q, a, type, ctx)
        +get_recent_history(n) List
        +get_formatted_history(n, lang) String
        +extract_key_entities() Dict
        +clear_history()
        +get_context_for_question(q, lang) String
        +get_statistics() Dict
    }
    class StreamlitUI {
        +tab1_existing_rag()
        +tab2_langchain_agent()
        +sidebar_settings()
        +chat_interface()
    }
    LangChainAgentManager --> LangChainRAGManager : RAG Tool ref
    LangChainAgentManager --> Neo4jManager : Neo4j Tool ref
    StreamlitUI --> LangChainAgentManager : session_state
    StreamlitUI --> LangChainRAGManager : session_state
    LangChainAgentManager ..> ShortTermMemory : similar func`
},
'data-flow': {
    title: 'ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³',
    def: `flowchart TD
    subgraph Input["Input Data"]
        PDF[PDF Documents]
        TXT[TXT Files]
        DOCX[DOCX Documents]
        UserQ[User Question]
    end
    subgraph Processing["Processing"]
        TextExtract["Text Extraction<br>PyPDF2 / docx2txt"]
        MetaExtract["Metadata Extraction<br>crop / doc_type"]
        ChunkSplit["Chunk Split<br>500 chars / 50 overlap"]
        VectorCalc["Vectorize<br>all-MiniLM-L6-v2 384dim"]
        QClassify["Question Classify<br>5 types"]
        EntityExtract["Entity Extraction<br>crop / season / disease"]
    end
    subgraph Storage["Storage"]
        FAISSIdx["FAISS Index<br>vectorstore/langchain_faiss/"]
        Neo4jStore["Neo4j Graph<br>Crop to Disease to Treatment"]
        MemoryStore["ConversationBufferMemory"]
        SessionState["Streamlit session_state"]
    end
    subgraph Output["Output"]
        Answer[Answer Text]
        Sources[Reference Sources]
        ToolLog[Tool Usage Log]
        Metrics[Processing Metrics]
    end
    PDF --> TextExtract
    TXT --> TextExtract
    DOCX --> TextExtract
    TextExtract --> MetaExtract
    MetaExtract --> ChunkSplit
    ChunkSplit --> VectorCalc
    VectorCalc --> FAISSIdx
    UserQ --> QClassify
    UserQ --> EntityExtract
    EntityExtract --> MemoryStore
    QClassify --> SessionState
    FAISSIdx -->|similarity search| Answer
    Neo4jStore -->|Cypher query| Answer
    MemoryStore -->|context| Answer
    Answer --> SessionState
    Sources --> SessionState
    ToolLog --> SessionState
    Metrics --> SessionState
    style Input fill:#E8F5E9,stroke:#4CAF50
    style Processing fill:#E3F2FD,stroke:#2196F3
    style Storage fill:#F3E5F5,stroke:#9C27B0
    style Output fill:#FFF3E0,stroke:#FF9800`
},
'deploy': {
    title: 'ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ§‹æˆå›³',
    def: `graph TB
    subgraph Local["Local Machine"]
        subgraph PythonEnv["Python venv"]
            App1["chatbot_unified.py<br>Streamlit port 8503"]
            App2["chatbot_web_streamlit.py<br>Streamlit port 8501"]
            App3["chatbot_langchain_streamlit.py<br>Streamlit port 8502"]
        end
        subgraph OllamaService["Ollama Service"]
            OllamaServer["Ollama Server port 11434"]
            Model1["phi3:mini 3.8B"]
            Model2["gemma2:2b 2B"]
            Model3["llama3.2:3b 3B"]
            OllamaServer --- Model1
            OllamaServer --- Model2
            OllamaServer --- Model3
        end
        subgraph DockerLayer["Docker"]
            Neo4jContainer["Neo4j 5.13.0<br>port 7474 HTTP<br>port 7687 Bolt"]
            Neo4jVolumes["Volumes<br>neo4j_data<br>neo4j_logs<br>neo4j_import"]
            Neo4jContainer --- Neo4jVolumes
        end
        subgraph FileSystemLayer["File System"]
            DocsFS["docs/ ja/ en/"]
            VectorFS["vectorstore/ langchain_faiss/"]
        end
    end
    subgraph External["External APIs"]
        OpenMeteo["Open-Meteo API<br>Weather Forecast"]
        HFHub["HuggingFace Hub<br>Model Download"]
    end
    App1 -->|HTTP API| OllamaServer
    App2 -->|HTTP API| OllamaServer
    App1 -->|Bolt| Neo4jContainer
    App2 -->|Bolt| Neo4jContainer
    App1 -->|REST| OpenMeteo
    App1 -->|read| DocsFS
    App1 -->|read write| VectorFS
    PythonEnv -->|first run| HFHub
    classDef py fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    classDef ollama fill:#BBDEFB,stroke:#1565C0,stroke-width:2px
    classDef docker fill:#E1BEE7,stroke:#7B1FA2,stroke-width:2px
    classDef ext fill:#FFCDD2,stroke:#C62828,stroke-width:2px
    classDef fs fill:#FFF9C4,stroke:#F9A825,stroke-width:2px
    class App1,App2,App3 py
    class OllamaServer,Model1,Model2,Model3 ollama
    class Neo4jContainer,Neo4jVolumes docker
    class OpenMeteo,HFHub ext
    class DocsFS,VectorFS fs`
},
'state': {
    title: 'ğŸ”€ StreamlitçŠ¶æ…‹é·ç§»å›³',
    def: `stateDiagram-v2
    [*] --> Init
    state Init {
        [*] --> PageLoad
        PageLoad --> SessionInit
        SessionInit --> TabSelect
    }
    state Tab1 {
        [*] --> ShowGuide
        ShowGuide --> ExternalRef
    }
    state Tab2 {
        [*] --> NotReady
        NotReady --> Building : Click Build
        state Building {
            [*] --> RAGInit
            RAGInit --> VectorBuild
            VectorBuild --> QAChainCreate
            QAChainCreate --> AgentInit
            AgentInit --> [*]
        }
        Building --> ChatReady : Success
        Building --> ShowError : Failure
        state ChatReady {
            [*] --> WaitInput
            WaitInput --> Processing : Question
            Processing --> ShowAnswer : Success
            Processing --> ShowTimeout : Timeout 300s
            Processing --> ShowErr : Exception
            ShowAnswer --> WaitInput
            ShowTimeout --> WaitInput
            ShowErr --> WaitInput
        }
        ChatReady --> NotReady : Reset
    }
    state Sidebar {
        [*] --> Settings
        Settings --> ModelChange
        Settings --> ParamAdjust
        Settings --> MemoryClear
        Settings --> HistoryClear
        Settings --> SystemReset
    }
    TabSelect --> Tab1 : Select Tab1
    TabSelect --> Tab2 : Select Tab2
    TabSelect --> Sidebar : Sidebar`
}
};

// ===== Mermaid Init =====
mermaid.initialize({
    startOnLoad: false,
    theme: 'default',
    securityLevel: 'loose',
    flowchart: { useMaxWidth: false, htmlLabels: true, curve: 'basis' },
    sequence: { useMaxWidth: false, wrap: true, width: 150 },
    themeVariables: {
        primaryColor: '#E8F5E9',
        primaryBorderColor: '#4CAF50',
        primaryTextColor: '#1B5E20',
        lineColor: '#616161',
        secondaryColor: '#E3F2FD',
        tertiaryColor: '#FFF3E0'
    }
});

const renderedCache = {};
let currentDiagram = 'arch';

async function renderDiagram(id) {
    const displayEl = document.getElementById('diagram-display');
    if (!displayEl) return;

    if (renderedCache[id]) {
        displayEl.innerHTML = renderedCache[id];
        return;
    }

    const diag = DIAGRAMS[id];
    if (!diag) return;

    const html = '<div class="diagram-container">' +
        '<h4>' + diag.title + '</h4>' +
        '<div class="diagram-wrapper">' +
        '<div class="diagram-svg-output" id="diagram-output-' + id + '">èª­ã¿è¾¼ã¿ä¸­...</div>' +
        '</div></div>';
    displayEl.innerHTML = html;

    try {
        const uniqueId = 'mermaid-' + id + '-' + Date.now();
        const result = await mermaid.render(uniqueId, diag.def);
        const outputEl = document.getElementById('diagram-output-' + id);
        if (outputEl) {
            outputEl.innerHTML = result.svg;
        }
        renderedCache[id] = displayEl.innerHTML;
    } catch (e) {
        const outputEl = document.getElementById('diagram-output-' + id);
        if (outputEl) {
            outputEl.innerHTML = '<div class="diagram-error">ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ æç”»ã‚¨ãƒ©ãƒ¼: ' + e.message + '</div>';
        }
        console.error('Mermaid render error for ' + id + ':', e);
    }
}

function showDiagram(id) {
    currentDiagram = id;
    document.querySelectorAll('.diagram-thumb').forEach(function(t) { t.classList.remove('active'); });
    var thumbMap = ['arch', 'agent-flow', 'rag-pipeline', 'neo4j-schema', 'seq-chat', 'seq-rag', 'class-diagram', 'data-flow', 'deploy', 'state'];
    var idx = thumbMap.indexOf(id);
    if (idx >= 0) {
        document.querySelectorAll('.diagram-thumb')[idx].classList.add('active');
    }
    renderDiagram(id);
}

// ===== Tab Switching =====
function switchTab(tabId) {
    document.querySelectorAll('.tab-content').forEach(function(t) { t.classList.remove('active'); });
    document.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
    document.getElementById('tab-' + tabId).classList.add('active');
    var buttons = document.querySelectorAll('.tab-btn');
    var tabMap = ['overview', 'tech', 'features', 'structure', 'diagrams', 'issues', 'jpquality'];
    var idx = tabMap.indexOf(tabId);
    if (idx >= 0) buttons[idx].classList.add('active');
    if (tabId === 'diagrams') {
        renderDiagram(currentDiagram);
    }
}
</script>
    <style>
        :root {
            --primary: #2E7D32;
            --primary-light: #4CAF50;
            --primary-dark: #1B5E20;
            --accent: #FF6F00;
            --bg: #F5F5F5;
            --card-bg: #FFFFFF;
            --text: #212121;
            --text-secondary: #616161;
            --border: #E0E0E0;
            --shadow: 0 2px 8px rgba(0,0,0,0.1);
            --shadow-hover: 0 4px 16px rgba(0,0,0,0.15);
            --radius: 12px;
            --code-bg: #263238;
            --code-text: #ECEFF1;
            --tag-blue: #1565C0;
            --tag-green: #2E7D32;
            --tag-orange: #E65100;
            --tag-purple: #6A1B9A;
            --tag-red: #C62828;
            --tag-teal: #00695C;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Noto Sans JP', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 50%, var(--primary-light) 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .header h1 { font-size: 1.8rem; margin-bottom: 0.3rem; }
        .header p { opacity: 0.9; font-size: 0.95rem; }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            background: white;
            border-bottom: 2px solid var(--border);
            overflow-x: auto;
            position: sticky;
            top: 82px;
            z-index: 99;
            box-shadow: var(--shadow);
        }
        .tab-btn {
            padding: 0.9rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-secondary);
            white-space: nowrap;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            position: relative;
        }
        .tab-btn:hover { color: var(--primary); background: #E8F5E9; }
        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background: #E8F5E9;
        }

        /* Tab Content */
        .tab-content { display: none; padding: 2rem; max-width: 1400px; margin: 0 auto; }
        .tab-content.active { display: block; }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: box-shadow 0.3s;
            border: 1px solid var(--border);
        }
        .card:hover { box-shadow: var(--shadow-hover); }
        .card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.15rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Grid */
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
        .grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }

        /* Tags */
        .tag {
            display: inline-block;
            padding: 0.2rem 0.65rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin: 0.15rem;
        }
        .tag-blue { background: #E3F2FD; color: var(--tag-blue); }
        .tag-green { background: #E8F5E9; color: var(--tag-green); }
        .tag-orange { background: #FFF3E0; color: var(--tag-orange); }
        .tag-purple { background: #F3E5F5; color: var(--tag-purple); }
        .tag-red { background: #FFEBEE; color: var(--tag-red); }
        .tag-teal { background: #E0F2F1; color: var(--tag-teal); }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        th {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1rem;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 0.65rem 1rem;
            border-bottom: 1px solid var(--border);
        }
        tr:hover td { background: #F5F5F5; }
        tr:nth-child(even) td { background: #FAFAFA; }
        tr:nth-child(even):hover td { background: #F0F0F0; }

        /* Code Block */
        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 0.82rem;
            line-height: 1.5;
            white-space: pre;
        }

        /* File Tree */
        .file-tree {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 0.82rem;
            line-height: 1.8;
        }
        .file-tree .folder { color: var(--tag-blue); font-weight: 600; }
        .file-tree .file { color: var(--text-secondary); }
        .file-tree .comment { color: #9E9E9E; font-style: italic; }

        /* Status Badges */
        .status {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        .status-open { background: #FFCDD2; color: #C62828; }
        .status-in-progress { background: #FFF9C4; color: #F57F17; }
        .status-closed { background: #C8E6C9; color: #2E7D32; }

        .priority {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.72rem;
            font-weight: 700;
        }
        .priority-high { background: #FFCDD2; color: #C62828; border: 1px solid #E57373; }
        .priority-mid { background: #FFF9C4; color: #F57F17; border: 1px solid #FFD54F; }
        .priority-low { background: #C8E6C9; color: #2E7D32; border: 1px solid #81C784; }

        /* Diagram */
        .diagram-container {
            background: white;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .diagram-container h4 {
            margin-bottom: 1rem;
            color: var(--primary);
            font-size: 1.05rem;
        }
        .diagram-wrapper {
            overflow: auto;
            max-height: 700px;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            background: #FAFAFA;
        }
        .diagram-wrapper .mermaid {
            display: flex;
            justify-content: center;
        }
        .diagram-controls {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
        }
        .diagram-controls button {
            padding: 0.4rem 0.8rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }
        .diagram-controls button:hover { background: #E8F5E9; border-color: var(--primary); }
        .diagram-controls button.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* Diagram Thumbnails Grid */
        .diagram-thumbs {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .diagram-thumb {
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .diagram-thumb:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
        }
        .diagram-thumb.active {
            border-color: var(--primary);
            background: #E8F5E9;
        }
        .diagram-thumb h5 {
            color: var(--primary);
            margin-bottom: 0.4rem;
            font-size: 0.9rem;
        }
        .diagram-thumb p {
            color: var(--text-secondary);
            font-size: 0.78rem;
        }
        .diagram-thumb .thumb-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Feature Card */
        .feature-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.2rem;
            transition: all 0.3s;
            border-left: 4px solid var(--primary);
        }
        .feature-card:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
        }
        .feature-card h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
        .feature-card .feature-tags { margin-top: 0.7rem; }

        /* Metrics */
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .metric-card {
            background: white;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 1.2rem;
            text-align: center;
        }
        .metric-card .metric-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
        }
        .metric-card .metric-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.3rem;
        }

        /* Section title */
        .section-title {
            font-size: 1.3rem;
            color: var(--primary-dark);
            margin: 1.5rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Utility */
        .mono { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 0.85rem; }
        .text-muted { color: var(--text-secondary); }
        .mb-1 { margin-bottom: 1rem; }
        .mt-1 { margin-top: 1rem; }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.3rem; }
            .tab-btn { padding: 0.7rem 0.8rem; font-size: 0.8rem; }
            .tab-content { padding: 1rem; }
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .diagram-wrapper { max-height: 400px; }
        }

        /* Config table specific */
        .config-desc {
            font-size: 0.82rem;
            color: var(--text-secondary);
        }

        /* Accordion */
        .accordion-header {
            cursor: pointer;
            padding: 0.8rem 1rem;
            background: #F5F5F5;
            border-radius: 8px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            transition: background 0.2s;
        }
        .accordion-header:hover { background: #E8F5E9; }
        .accordion-body {
            padding: 0.5rem 1rem;
            display: none;
        }
        .accordion-body.open { display: block; }

        /* Zoom controls */
        .zoom-controls {
            display: flex;
            gap: 0.3rem;
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            z-index: 10;
        }
        .zoom-controls button {
            width: 32px; height: 32px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .zoom-controls button:hover { background: #E8F5E9; }

        .diagram-view-area {
            position: relative;
        }

        /* Data flow table highlight */
        .flow-step {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0;
        }
        .flow-arrow {
            color: var(--primary);
            font-weight: bold;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
            font-size: 0.82rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }
    </style>
</head>
<body>

<!-- Header -->
<div class="header">
    <h1>ğŸŒ¾ aiagent-farm-poc</h1>
    <p>è¾²æ¥­æ”¯æ´AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  â€” LangChain + Ollama + RAG + Neo4j Knowledge Graph</p>
</div>

<!-- Tab Navigation -->
<div class="tab-nav">
    <button class="tab-btn active" onclick="switchTab('overview')">ğŸ“‹ æ¦‚è¦</button>
    <button class="tab-btn" onclick="switchTab('tech')">ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</button>
    <button class="tab-btn" onclick="switchTab('features')">âš¡ ä¸»è¦æ©Ÿèƒ½</button>
    <button class="tab-btn" onclick="switchTab('structure')">ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </button>
    <button class="tab-btn" onclick="switchTab('diagrams')">ğŸ“Š ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ </button>
    <button class="tab-btn" onclick="switchTab('issues')">ğŸ› èª²é¡Œãƒ»Issue</button>
    <button class="tab-btn" onclick="switchTab('jpquality')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èªå“è³ªæ”¹å–„</button>
</div>

<!-- ==================== TAB 1: æ¦‚è¦ ==================== -->
<div id="tab-overview" class="tab-content active">
    <h2 class="section-title">ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h2>

    <div class="metrics">
        <div class="metric-card">
            <div class="metric-value">17+</div>
            <div class="metric-label">Pythonãƒ•ã‚¡ã‚¤ãƒ«</div>
        </div>
        <div class="metric-card">
            <div class="metric-value">6</div>
            <div class="metric-label">ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†</div>
        </div>
        <div class="metric-card">
            <div class="metric-value">4</div>
            <div class="metric-label">ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«</div>
        </div>
        <div class="metric-card">
            <div class="metric-value">2</div>
            <div class="metric-label">UIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</div>
        </div>
    </div>

    <div class="grid-2">
        <div class="card">
            <h3>ğŸ“ ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±</h3>
            <table>
                <tr><td><strong>ãƒªãƒã‚¸ãƒˆãƒªå</strong></td><td>aiagent-farm-poc</td></tr>
                <tr><td><strong>ä½œè€…</strong></td><td>karamaru</td></tr>
                <tr><td><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</strong></td><td>MIT License</td></tr>
                <tr><td><strong>Python</strong></td><td>3.10+</td></tr>
                <tr><td><strong>è¨€èªå¯¾å¿œ</strong></td><td>æ—¥æœ¬èª / è‹±èª</td></tr>
                <tr><td><strong>å®Ÿè¡Œç’°å¢ƒ</strong></td><td>ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆOllamaï¼‰</td></tr>
            </table>
        </div>

        <div class="card">
            <h3>ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h3>
            <p>è¾²æ¥­ã®å°‚é–€çŸ¥è­˜ã‚’æŒã¤AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®PoCï¼ˆProof of Conceptï¼‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚</p>
            <br>
            <p><strong>ä¸»ãªç›®çš„:</strong></p>
            <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
                <li>è¾²æ¥­ã«é–¢ã™ã‚‹è³ªå•ã«AIãŒå°‚é–€çš„ã«å›ç­”</li>
                <li>RAGï¼ˆæ¤œç´¢æ‹¡å¼µç”Ÿæˆï¼‰ã«ã‚ˆã‚‹æ–‡æ›¸ãƒ™ãƒ¼ã‚¹ã®çŸ¥è­˜æ¤œç´¢</li>
                <li>çŸ¥è­˜ã‚°ãƒ©ãƒ•ï¼ˆNeo4jï¼‰ã«ã‚ˆã‚‹é–¢é€£æƒ…å ±ã®ã‚°ãƒ©ãƒ•æ¢ç´¢</li>
                <li>ReActãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ„ãƒ¼ãƒ«ã‚’è‡ªå‹•é¸æŠã™ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ</li>
                <li>è‚¥æ–™è¨ˆç®—ãƒ»å¤©æ°—æƒ…å ±ãªã©å®Ÿç”¨ãƒ„ãƒ¼ãƒ«ã®çµ±åˆ</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ä¸€è¦§</h3>
        <div class="grid-4">
            <div>
                <strong>Python (.py)</strong>
                <p class="text-muted" style="font-size:0.85rem;">ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãƒ„ãƒ¼ãƒ«ã€Streamlit UI</p>
                <span class="tag tag-blue">17+ ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>YAML (.yml)</strong>
                <p class="text-muted" style="font-size:0.85rem;">Docker Composeè¨­å®š</p>
                <span class="tag tag-purple">1 ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (.txt, .pdf)</strong>
                <p class="text-muted" style="font-size:0.85rem;">è¾²æ¥­FAQã€RAGç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</p>
                <span class="tag tag-green">2+ ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>ãƒ‡ãƒ¼ã‚¿ (.faiss)</strong>
                <p class="text-muted" style="font-size:0.85rem;">FAISSãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</p>
                <span class="tag tag-orange">1 ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>Markdown (.md)</strong>
                <p class="text-muted" style="font-size:0.85rem;">READMEã€ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã€è¦ä»¶å®šç¾©</p>
                <span class="tag tag-teal">4 ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>è¨­å®š (.txt)</strong>
                <p class="text-muted" style="font-size:0.85rem;">requirements.txt</p>
                <span class="tag tag-red">1 ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>Neo4j ãƒ‡ãƒ¼ã‚¿</strong>
                <p class="text-muted" style="font-size:0.85rem;">çŸ¥è­˜ã‚°ãƒ©ãƒ•DBã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°</p>
                <span class="tag tag-purple">40+ ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
            <div>
                <strong>HTML</strong>
                <p class="text-muted" style="font-size:0.85rem;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒšãƒ¼ã‚¸</p>
                <span class="tag tag-orange">1 ãƒ•ã‚¡ã‚¤ãƒ«</span>
            </div>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“… é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºå±¥æ­´</h3>
        <table>
            <thead>
                <tr>
                    <th>ãƒ•ã‚§ãƒ¼ã‚º</th>
                    <th>å†…å®¹</th>
                    <th>æ—¥ç¨‹</th>
                    <th>çŠ¶æ…‹</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Phase 1</td>
                    <td>è³ªå•ã‚¿ã‚¤ãƒ—åˆ†é¡ï¼ˆcalculation / diagnosis / recommendation / weather / generalï¼‰</td>
                    <td>Week 1</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 2A</td>
                    <td>å®‰å…¨ãªè¨ˆç®—ãƒ„ãƒ¼ãƒ«ï¼ˆAST + LLMå¼æŠ½å‡ºï¼‰</td>
                    <td>Day 1-2</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 2C</td>
                    <td>å¤–éƒ¨APIçµ±åˆ â€” Open-Meteoå¤©æ°—API</td>
                    <td>Day 3-4</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 3</td>
                    <td>ãƒãƒ«ãƒã‚¹ãƒ†ãƒƒãƒ—æ¨è«– + çŸ­æœŸãƒ¡ãƒ¢ãƒªç®¡ç†</td>
                    <td>Day 5</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 4</td>
                    <td>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆä½œç‰©åãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼‰</td>
                    <td>Day 8</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 5A</td>
                    <td>LangChain RAGçµ±åˆï¼ˆLCELå½¢å¼QAãƒã‚§ãƒ¼ãƒ³ï¼‰</td>
                    <td>Day 8-9</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 5B</td>
                    <td>LangChain Streamlit UIçµ±åˆ</td>
                    <td>Day 8-9</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 5C</td>
                    <td>çµ±åˆUI + ReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ + ãƒ„ãƒ¼ãƒ«çµ±åˆ</td>
                    <td>Day 10-11</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 6A</td>
                    <td>Neo4jçŸ¥è­˜ã‚°ãƒ©ãƒ•å°å…¥ + Streamlitçµ±åˆ</td>
                    <td>Day 6-7</td>
                    <td><span class="status status-closed">å®Œäº†</span></td>
                </tr>
                <tr>
                    <td>Phase 5C-3</td>
                    <td>Vision RAGï¼ˆç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼‰</td>
                    <td>Day 12-13</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                </tr>
                <tr>
                    <td>Phase 5C-4</td>
                    <td>æœ¬ç•ªç’°å¢ƒå¯¾å¿œï¼ˆDockeråŒ–ã€ãƒ†ã‚¹ãƒˆã€CI/CDï¼‰</td>
                    <td>Day 13-14</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- ==================== TAB 2: æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ ==================== -->
<div id="tab-tech" class="tab-content">
    <h2 class="section-title">ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</h2>

    <div class="grid-2">
        <div class="card">
            <h3>ğŸ’» ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª</h3>
            <table>
                <tr><td><strong>Python</strong></td><td>3.10+</td><td>ãƒ¡ã‚¤ãƒ³è¨€èª</td></tr>
                <tr><td><strong>Cypher</strong></td><td>-</td><td>Neo4jã‚¯ã‚¨ãƒªè¨€èª</td></tr>
                <tr><td><strong>HTML/CSS</strong></td><td>-</td><td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸</td></tr>
            </table>
        </div>

        <div class="card">
            <h3>ğŸ§© ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</h3>
            <table>
                <tr><td><strong>LangChain</strong></td><td>1.2.4</td><td>ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€LCELã€ReActãƒ‘ã‚¿ãƒ¼ãƒ³</td></tr>
                <tr><td><strong>Streamlit</strong></td><td>1.32.2</td><td>Web UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</td></tr>
            </table>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“¦ ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</h3>
        <table>
            <thead>
                <tr><th>ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</th><th>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</th><th>ç”¨é€”</th><th>ã‚«ãƒ†ã‚´ãƒª</th></tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>langchain-core</strong></td><td>1.2.7</td>
                    <td>LangChainã‚³ã‚¢ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆPromptTemplate, Tool, Runnableç­‰ï¼‰</td>
                    <td><span class="tag tag-blue">Agent</span></td>
                </tr>
                <tr>
                    <td><strong>langchain-community</strong></td><td>0.4.1</td>
                    <td>FAISS VectorStoreã€ChatOllamaã€HuggingFaceEmbeddingsçµ±åˆ</td>
                    <td><span class="tag tag-blue">Agent</span></td>
                </tr>
                <tr>
                    <td><strong>langchain-ollama</strong></td><td>1.0.1</td>
                    <td>OllamaLLMãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«LLMå®Ÿè¡Œï¼‰</td>
                    <td><span class="tag tag-blue">Agent</span></td>
                </tr>
                <tr>
                    <td><strong>langchain-text-splitters</strong></td><td>1.1.0</td>
                    <td>RecursiveCharacterTextSplitterï¼ˆæ—¥æœ¬èªæœ€é©åŒ–ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼‰</td>
                    <td><span class="tag tag-green">RAG</span></td>
                </tr>
                <tr>
                    <td><strong>sentence-transformers</strong></td><td>2.2.2</td>
                    <td>all-MiniLM-L6-v2 Embeddingãƒ¢ãƒ‡ãƒ«</td>
                    <td><span class="tag tag-green">RAG</span></td>
                </tr>
                <tr>
                    <td><strong>faiss-cpu</strong></td><td>1.7.4</td>
                    <td>Facebookãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³</td>
                    <td><span class="tag tag-green">RAG</span></td>
                </tr>
                <tr>
                    <td><strong>neo4j</strong></td><td>6.0.3</td>
                    <td>Neo4j Pythonãƒ‰ãƒ©ã‚¤ãƒãƒ¼ï¼ˆBoltæ¥ç¶šï¼‰</td>
                    <td><span class="tag tag-purple">GraphDB</span></td>
                </tr>
                <tr>
                    <td><strong>huggingface_hub</strong></td><td>0.15.1</td>
                    <td>HuggingFaceãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</td>
                    <td><span class="tag tag-green">RAG</span></td>
                </tr>
                <tr>
                    <td><strong>numpy</strong></td><td>1.26.4</td>
                    <td>æ•°å€¤è¨ˆç®—ï¼ˆFAISSãƒ™ã‚¯ãƒˆãƒ«æ“ä½œï¼‰</td>
                    <td><span class="tag tag-teal">Core</span></td>
                </tr>
                <tr>
                    <td><strong>requests</strong></td><td>2.32.5</td>
                    <td>HTTPé€šä¿¡ï¼ˆOllama APIã€Open-Meteo APIï¼‰</td>
                    <td><span class="tag tag-teal">Core</span></td>
                </tr>
                <tr>
                    <td><strong>langdetect</strong></td><td>1.0.9</td>
                    <td>è¨€èªè‡ªå‹•æ¤œå‡º</td>
                    <td><span class="tag tag-orange">Util</span></td>
                </tr>
                <tr>
                    <td><strong>PyPDF2</strong></td><td>3.0.1</td>
                    <td>PDFãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º</td>
                    <td><span class="tag tag-orange">Util</span></td>
                </tr>
                <tr>
                    <td><strong>docx2txt</strong></td><td>0.8</td>
                    <td>Wordæ–‡æ›¸ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º</td>
                    <td><span class="tag tag-orange">Util</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="grid-2">
        <div class="card">
            <h3>ğŸ”§ ãƒ„ãƒ¼ãƒ«ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©</h3>
            <table>
                <tr><td><strong>Ollama</strong></td><td>ãƒ­ãƒ¼ã‚«ãƒ«LLMå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³</td></tr>
                <tr><td><strong>phi3:mini</strong></td><td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆLLMãƒ¢ãƒ‡ãƒ«ï¼ˆMicrosoftï¼‰</td></tr>
                <tr><td><strong>gemma2:2b</strong></td><td>ä»£æ›¿LLMãƒ¢ãƒ‡ãƒ«ï¼ˆGoogleï¼‰</td></tr>
                <tr><td><strong>llama3.2:3b</strong></td><td>ä»£æ›¿LLMãƒ¢ãƒ‡ãƒ«ï¼ˆMetaï¼‰</td></tr>
                <tr><td><strong>Neo4j</strong></td><td>5.13.0ï¼ˆDockerï¼‰çŸ¥è­˜ã‚°ãƒ©ãƒ•DB</td></tr>
                <tr><td><strong>Docker Compose</strong></td><td>Neo4jã‚³ãƒ³ãƒ†ãƒŠç®¡ç†</td></tr>
                <tr><td><strong>Open-Meteo API</strong></td><td>å¤©æ°—äºˆå ±å¤–éƒ¨API</td></tr>
                <tr><td><strong>FAISS</strong></td><td>ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³</td></tr>
            </table>
        </div>

        <div class="card">
            <h3>ğŸ“ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ»é–‹ç™º</h3>
            <table>
                <tr><td><strong>Git</strong></td><td>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†</td></tr>
                <tr><td><strong>GitHub</strong></td><td>ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒª</td></tr>
                <tr><td><strong>VS Code</strong></td><td>é–‹ç™ºç’°å¢ƒï¼ˆCopiloté€£æºï¼‰</td></tr>
                <tr><td><strong>venv</strong></td><td>Pythonä»®æƒ³ç’°å¢ƒ</td></tr>
                <tr><td><strong>pip</strong></td><td>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†</td></tr>
            </table>
        </div>
    </div>
</div>

<!-- ==================== TAB 3: ä¸»è¦æ©Ÿèƒ½ ==================== -->
<div id="tab-features" class="tab-content">
    <h2 class="section-title">âš¡ ä¸»è¦æ©Ÿèƒ½</h2>

    <div class="grid-3">
        <div class="feature-card">
            <h4>ğŸ¤– ReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ</h4>
            <p>æ€è€ƒï¼ˆThoughtï¼‰â†’ è¡Œå‹•ï¼ˆActionï¼‰â†’ è¦³å¯Ÿï¼ˆObservationï¼‰ã®ãƒ«ãƒ¼ãƒ—ã§è³ªå•ã«å›ç­”ã€‚LangChainã®<code>create_react_agent</code>ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ã€‚æœ€å¤§5ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€300ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡ä»˜ãã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-blue">LangChain</span>
                <span class="tag tag-purple">ReAct</span>
                <span class="tag tag-green">AgentExecutor</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ“š RAGæ¤œç´¢ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œç´¢ï¼‰</h4>
            <p>è¾²æ¥­æ–‡æ›¸ï¼ˆPDF/TXT/DOCXï¼‰ã‚’ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²â†’Embeddingâ†’FAISSã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§é¡ä¼¼æ¤œç´¢ã€‚LangChain LCELå½¢å¼ã®QAãƒã‚§ãƒ¼ãƒ³ã§å›ç­”ç”Ÿæˆã€‚RecursiveCharacterTextSplitterã«ã‚ˆã‚‹æ—¥æœ¬èªæœ€é©åŒ–åˆ†å‰²ã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-green">FAISS</span>
                <span class="tag tag-blue">all-MiniLM-L6-v2</span>
                <span class="tag tag-teal">LCEL</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ§® è‚¥æ–™è¨ˆç®—ãƒ„ãƒ¼ãƒ«</h4>
            <p>é¢ç©ã¨ä½œç‰©ã‚¿ã‚¤ãƒ—ã«åŸºã¥ã„ã¦NPKï¼ˆçª’ç´ ãƒ»ãƒªãƒ³é…¸ãƒ»ã‚«ãƒªã‚¦ãƒ ï¼‰ã®æ–½è‚¥é‡ã‚’è‡ªå‹•è¨ˆç®—ã€‚ãƒˆãƒãƒˆã€ãã‚…ã†ã‚Šç­‰ã®ä½œç‰©åˆ¥ä¿‚æ•°ã«å¯¾å¿œã€‚æ¤ãˆä»˜ã‘æœ¬æ•°è¨ˆç®—ã€æ•°å¼ã®å®‰å…¨ãªASTè©•ä¾¡ã‚‚å®Ÿè£…ã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-orange">Calculator</span>
                <span class="tag tag-green">NPK</span>
                <span class="tag tag-teal">ASTå®‰å…¨è©•ä¾¡</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸŒ¤ï¸ å¤©æ°—æƒ…å ±ãƒ„ãƒ¼ãƒ«</h4>
            <p>Open-Meteo APIã‹ã‚‰ç¾åœ¨ã®å¤©æ°—ã¨3æ—¥é–“äºˆå ±ã‚’å–å¾—ã€‚æ°—æ¸©ãƒ»æ¹¿åº¦ãƒ»é™æ°´é‡ã‹ã‚‰è¾²ä½œæ¥­ã¸ã®å½±éŸ¿ã‚’è‡ªå‹•åˆ†æï¼ˆæ°´ã‚„ã‚Šåˆ¤æ–­ã€ç—…æ°—ãƒªã‚¹ã‚¯ã€ä½œæ¥­ç’°å¢ƒè©•ä¾¡ï¼‰ã€‚WMO Weather Codeå¯¾å¿œã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-blue">Open-Meteo</span>
                <span class="tag tag-green">è¾²ä½œæ¥­åˆ†æ</span>
                <span class="tag tag-orange">3æ—¥äºˆå ±</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ”— çŸ¥è­˜ã‚°ãƒ©ãƒ•ï¼ˆNeo4jï¼‰</h4>
            <p>ä½œç‰©â†’ç—…æ°—â†’å®³è™«â†’å¯¾å‡¦æ³•â†’æ™‚æœŸã®é–¢é€£ã‚’ã‚°ãƒ©ãƒ•DBã§ç®¡ç†ã€‚Cypherã‚¯ã‚¨ãƒªã§ç—…æ°—æ¤œç´¢ã€æ²»ç™‚ãƒ‘ã‚¹æ¢ç´¢ã€å®³è™«æ¤œç´¢ãŒå¯èƒ½ã€‚ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: Crop, Disease, Pest, Treatment, Seasonã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-purple">Neo4j</span>
                <span class="tag tag-blue">Cypher</span>
                <span class="tag tag-green">Knowledge Graph</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ§  ä¼šè©±ãƒ¡ãƒ¢ãƒªç®¡ç†</h4>
            <p>ConversationBufferMemoryã§ä¼šè©±å±¥æ­´ã‚’ä¿æŒã€‚ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡ºï¼ˆä½œç‰©åãƒ»æ™‚æœŸãƒ»ç—…åï¼‰ã«ã‚ˆã‚‹æ–‡è„ˆç†è§£ã€‚ä»£åè©ãƒ»æŒ‡ç¤ºèªã®å‚ç…§è§£æ±ºæ©Ÿèƒ½æ­è¼‰ã€‚æœ€å¤§5ä»¶ã®çŸ­æœŸãƒ¡ãƒ¢ãƒªç®¡ç†ã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-purple">Memory</span>
                <span class="tag tag-blue">EntityæŠ½å‡º</span>
                <span class="tag tag-teal">å‚ç…§è§£æ±º</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ” ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</h4>
            <p>ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰ä½œç‰©åãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’è‡ªå‹•æŠ½å‡ºã—ã€æ¤œç´¢æ™‚ã«ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨ã€‚ä½œç‰©åˆ¥ï¼ˆãƒˆãƒãƒˆ/ãã‚…ã†ã‚Š/ãƒŠã‚¹ç­‰ï¼‰ãƒ»ã‚¿ã‚¤ãƒ—åˆ¥ï¼ˆdisease/pest/cultivationï¼‰ã®çµã‚Šè¾¼ã¿ãŒå¯èƒ½ã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-green">Metadata</span>
                <span class="tag tag-orange">Filter</span>
                <span class="tag tag-blue">Cropåˆ†é¡</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸ“Š è³ªå•ã‚¿ã‚¤ãƒ—åˆ†é¡</h4>
            <p>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§è³ªå•ã‚’5ã‚¿ã‚¤ãƒ—ã«è‡ªå‹•åˆ†é¡: calculationï¼ˆè¨ˆç®—ï¼‰ã€diagnosisï¼ˆè¨ºæ–­ï¼‰ã€recommendationï¼ˆæ¨è–¦ï¼‰ã€weatherï¼ˆå¤©æ°—ï¼‰ã€generalï¼ˆä¸€èˆ¬ï¼‰ã€‚ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸå°‚é–€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-blue">Classification</span>
                <span class="tag tag-green">Promptæœ€é©åŒ–</span>
            </div>
        </div>

        <div class="feature-card">
            <h4>ğŸŒ å¤šè¨€èªãƒ»çµ±åˆUI</h4>
            <p>Streamlitãƒ™ãƒ¼ã‚¹ã®2ã‚¿ãƒ–çµ±åˆUIã€‚ã‚¿ãƒ–1: æ—¢å­˜FAISS+Ollamaã®ç›´æ¥RAGã€‚ã‚¿ãƒ–2: LangChainã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‹RAGã€‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ãƒ¢ãƒ‡ãƒ«é¸æŠã€Temperatureã€Top-Kç­‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´å¯èƒ½ã€‚</p>
            <div class="feature-tags">
                <span class="tag tag-orange">Streamlit</span>
                <span class="tag tag-blue">ã‚¿ãƒ–UI</span>
                <span class="tag tag-green">æ—¥æœ¬èª/è‹±èª</span>
            </div>
        </div>
    </div>
</div>

<!-- ==================== TAB 4: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  ==================== -->
<div id="tab-structure" class="tab-content">
    <h2 class="section-title">ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </h2>

    <div class="card">
        <h3>ğŸ—‚ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ„ãƒªãƒ¼</h3>
        <div class="code-block file-tree">
<span class="folder">aiagent-farm-poc/</span>
â”œâ”€â”€ <span class="file">chatbot_unified.py</span>           <span class="comment"># çµ±åˆStreamlit UIï¼ˆãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª: port 8503ï¼‰</span>
â”œâ”€â”€ <span class="file">chatbot_web_streamlit.py</span>      <span class="comment"># æ—¢å­˜RAG Streamlit UIï¼ˆport 8501, GraphDBçµ±åˆç‰ˆï¼‰</span>
â”œâ”€â”€ <span class="file">chatbot_langchain_streamlit.py</span> <span class="comment"># LangChainå°‚ç”¨ Streamlit UIï¼ˆPhase 5Bï¼‰</span>
â”œâ”€â”€ <span class="file">langchain_rag.py</span>              <span class="comment"># LangChain RAGãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆLCEL, FAISS, QAãƒã‚§ãƒ¼ãƒ³ï¼‰</span>
â”œâ”€â”€ <span class="file">agent_tools.py</span>                <span class="comment"># è³ªå•ã‚¿ã‚¤ãƒ—åˆ†é¡ + ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼ˆPhase 1-3ï¼‰</span>
â”œâ”€â”€ <span class="file">requirements.txt</span>              <span class="comment"># pipä¾å­˜é–¢ä¿‚å®šç¾©</span>
â”œâ”€â”€ <span class="file">docker-compose.yml</span>            <span class="comment"># Neo4j Dockerã‚³ãƒ³ãƒ†ãƒŠè¨­å®š</span>
â”œâ”€â”€ <span class="file">README.md</span>                     <span class="comment"># ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜æ›¸</span>
â”‚
â”œâ”€â”€ <span class="folder">agents/</span>                        <span class="comment"># LangChainã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</span>
â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”œâ”€â”€ <span class="file">langchain_agent.py</span>        <span class="comment"># LangChainAgentManagerï¼ˆReAct, AgentExecutor, Memoryï¼‰</span>
â”‚   â””â”€â”€ <span class="folder">tools/</span>                     <span class="comment"># ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ç¾¤</span>
â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”œâ”€â”€ <span class="file">rag_tool.py</span>            <span class="comment"># @tool RAGæ¤œç´¢ï¼ˆStreamlitã‚»ãƒƒã‚·ãƒ§ãƒ³é€£æºï¼‰</span>
â”‚       â”œâ”€â”€ <span class="file">calculator_tool.py</span>     <span class="comment"># è‚¥æ–™é‡ãƒ»æ¤ãˆä»˜ã‘æœ¬æ•°ãƒ»æ•°å¼è¨ˆç®—</span>
â”‚       â”œâ”€â”€ <span class="file">weather_tool.py</span>        <span class="comment"># Open-Meteoå¤©æ°—API + è¾²ä½œæ¥­å½±éŸ¿åˆ†æ</span>
â”‚       â”œâ”€â”€ <span class="file">neo4j_tool.py</span>          <span class="comment"># @tool Neo4jçŸ¥è­˜ã‚°ãƒ©ãƒ•æ¤œç´¢ï¼ˆç—…æ°—ãƒ»å®³è™«ãƒ»æ²»ç™‚æ³•ï¼‰</span>
â”‚       â””â”€â”€ <span class="file">memory_tool.py</span>         <span class="comment"># ShortTermMemoryï¼ˆçŸ­æœŸè¨˜æ†¶ãƒ»ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡ºï¼‰</span>
â”‚
â”œâ”€â”€ <span class="folder">tools/</span>                         <span class="comment"># æ—§ãƒ„ãƒ¼ãƒ«ï¼ˆPhase 1-3, æ—¢å­˜RAGç”¨ï¼‰</span>
â”‚   â”œâ”€â”€ <span class="file">calculator.py</span>             <span class="comment"># LLMå¼æŠ½å‡º + ASTå®‰å…¨è©•ä¾¡</span>
â”‚   â”œâ”€â”€ <span class="file">weather.py</span>                <span class="comment"># Open-Meteo APIï¼ˆå¤©æ°—å–å¾—ãƒ»è¾²ä½œæ¥­åˆ†æï¼‰</span>
â”‚   â””â”€â”€ <span class="file">memory.py</span>                 <span class="comment"># ShortTermMemoryï¼ˆdequeãƒ™ãƒ¼ã‚¹ï¼‰</span>
â”‚
â”œâ”€â”€ <span class="folder">graphdb/</span>                       <span class="comment"># Neo4jçŸ¥è­˜ã‚°ãƒ©ãƒ•ç®¡ç†</span>
â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚   â”œâ”€â”€ <span class="file">neo4j_manager.py</span>          <span class="comment"># Neo4jManagerï¼ˆã‚¹ã‚­ãƒ¼ãƒä½œæˆã€ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€æ¤œç´¢ï¼‰</span>
â”‚   â””â”€â”€ <span class="file">test_neo4j.py</span>             <span class="comment"># Neo4jæ¥ç¶šãƒ†ã‚¹ãƒˆ</span>
â”‚
â”œâ”€â”€ <span class="folder">docs/</span>                          <span class="comment"># RAGç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
â”‚   â”œâ”€â”€ <span class="folder">en/</span>                        <span class="comment"># è‹±èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
â”‚   â”‚   â””â”€â”€ <span class="file">en_faq.txt</span>             <span class="comment"># è‹±èªFAQ</span>
â”‚   â””â”€â”€ <span class="folder">ja/</span>                        <span class="comment"># æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
â”‚       â””â”€â”€ <span class="file">ãƒˆãƒãƒˆãƒŸãƒ‹ãƒˆãƒãƒˆ.txt</span>     <span class="comment"># ãƒˆãƒãƒˆ/ãƒŸãƒ‹ãƒˆãƒãƒˆçŸ¥è­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
â”‚
â”œâ”€â”€ <span class="folder">vectorstore/</span>                   <span class="comment"># FAISSãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢æ°¸ç¶šåŒ–</span>
â”‚   â””â”€â”€ <span class="folder">langchain_faiss/</span>           <span class="comment"># LangChain RAGç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</span>
â”‚       â””â”€â”€ <span class="file">index.faiss</span>             <span class="comment"># FAISSãƒã‚¤ãƒŠãƒªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</span>
â”‚
â”œâ”€â”€ <span class="folder">neo4j_data/</span>                    <span class="comment"># Neo4jãƒ‡ãƒ¼ã‚¿ãƒœãƒªãƒ¥ãƒ¼ãƒ  (Docker)</span>
â”œâ”€â”€ <span class="folder">neo4j_logs/</span>                    <span class="comment"># Neo4jãƒ­ã‚°ãƒœãƒªãƒ¥ãƒ¼ãƒ </span>
â”œâ”€â”€ <span class="folder">neo4j_import/</span>                  <span class="comment"># Neo4jã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª</span>
â”‚
â””â”€â”€ <span class="folder">Copilot/</span>                       <span class="comment"># Copilot/é–‹ç™ºãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
    â”œâ”€â”€ <span class="file">aiagent_implement_roadmap.md</span> <span class="comment"># å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆ2é€±é–“è¨ˆç”»ï¼‰</span>
    â”œâ”€â”€ <span class="file">prompts.md</span>                <span class="comment"># ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</span>
    â”œâ”€â”€ <span class="file">requirements.md</span>           <span class="comment"># ã‚¢ãƒ—ãƒªè¦ä»¶å®šç¾©</span>
    â””â”€â”€ <span class="file">overview.html</span>             <span class="comment"># ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«</span>
        </div>
    </div>

    <div class="card">
        <h3>âš™ï¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§</h3>
        <table>
            <thead>
                <tr><th>ãƒ•ã‚¡ã‚¤ãƒ«</th><th>å½¢å¼</th><th>ç”¨é€”</th><th>è©³ç´°</th></tr>
            </thead>
            <tbody>
                <tr>
                    <td class="mono">requirements.txt</td>
                    <td><span class="tag tag-blue">pip</span></td>
                    <td>Pythonä¾å­˜é–¢ä¿‚</td>
                    <td class="config-desc">LangChain 1.2.4ç³»ã€Streamlit 1.32.2ã€FAISSã€Neo4jç­‰ã®å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å®šç¾©</td>
                </tr>
                <tr>
                    <td class="mono">docker-compose.yml</td>
                    <td><span class="tag tag-purple">Docker</span></td>
                    <td>Neo4jã‚³ãƒ³ãƒ†ãƒŠå®šç¾©</td>
                    <td class="config-desc">Neo4j 5.13.0ã€ãƒãƒ¼ãƒˆ7474(HTTP)/7687(Bolt)ã€APOC Pluginã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€512MB ãƒ’ãƒ¼ãƒ—è¨­å®š</td>
                </tr>
                <tr>
                    <td class="mono">README.md</td>
                    <td><span class="tag tag-teal">Markdown</span></td>
                    <td>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜</td>
                    <td class="config-desc">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã€æ©Ÿèƒ½ä¸€è¦§ã€ä½¿ç”¨ä¾‹ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æƒ…å ±</td>
                </tr>
                <tr>
                    <td class="mono">Copilot/aiagent_implement_roadmap.md</td>
                    <td><span class="tag tag-teal">Markdown</span></td>
                    <td>å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</td>
                    <td class="config-desc">2é€±é–“ã®é–‹ç™ºè¨ˆç”»ã€ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã‚¿ã‚¹ã‚¯ã€ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆ1455è¡Œï¼‰</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="card">
        <h3>âš ï¸ æ•´ç†æ¨å¥¨äº‹é …</h3>
        <table>
            <thead>
                <tr><th>å¯¾è±¡</th><th>ç¨®é¡</th><th>æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th><th>ç†ç”±</th></tr>
            </thead>
            <tbody>
                <tr>
                    <td class="mono">tools/</td>
                    <td><span class="tag tag-orange">é‡è¤‡</span></td>
                    <td>agents/tools/ ã¨çµ±åˆã‚’æ¤œè¨</td>
                    <td>calculator.py, weather.py, memory.py ãŒ agents/tools/ é…ä¸‹ã¨æ©Ÿèƒ½é‡è¤‡</td>
                </tr>
                <tr>
                    <td class="mono">chatbot_langchain_streamlit.py</td>
                    <td><span class="tag tag-orange">é‡è¤‡</span></td>
                    <td>å‰Šé™¤ã¾ãŸã¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</td>
                    <td>chatbot_unified.py ã®ã‚¿ãƒ–2ã«æ©Ÿèƒ½çµ±åˆæ¸ˆã¿ï¼ˆPhase 5Bâ†’5Cç§»è¡Œï¼‰</td>
                </tr>
                <tr>
                    <td class="mono">chatbot_web_streamlit.py</td>
                    <td><span class="tag tag-blue">äº’æ›æ€§</span></td>
                    <td>ãƒ¬ã‚¬ã‚·ãƒ¼ã¨ã—ã¦æ˜ç¤º</td>
                    <td>æ—¢å­˜RAGã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ç¨¼åƒä¸­ã€‚chatbot_unified.pyã‹ã‚‰å‚ç…§ã•ã‚Œã¦ã„ã‚‹</td>
                </tr>
                <tr>
                    <td class="mono">__pycache__/</td>
                    <td><span class="tag tag-red">ã‚­ãƒ£ãƒƒã‚·ãƒ¥</span></td>
                    <td>.gitignoreã«è¿½åŠ </td>
                    <td>Pythonãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆGitç®¡ç†ä¸è¦ï¼‰</td>
                </tr>
                <tr>
                    <td class="mono">neo4j_data/</td>
                    <td><span class="tag tag-purple">ãƒ‡ãƒ¼ã‚¿</span></td>
                    <td>.gitignoreã«è¿½åŠ </td>
                    <td>Neo4jã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆå¤§å®¹é‡ã€ç’°å¢ƒä¾å­˜ï¼‰</td>
                </tr>
                <tr>
                    <td class="mono">neo4j_logs/</td>
                    <td><span class="tag tag-purple">ãƒ­ã‚°</span></td>
                    <td>.gitignoreã«è¿½åŠ </td>
                    <td>Neo4jã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆGitç®¡ç†ä¸è¦ï¼‰</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- ==================== TAB 5: ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ  ==================== -->
<div id="tab-diagrams" class="tab-content">
    <h2 class="section-title">ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ </h2>

    <!-- Thumbnail Grid -->
    <div class="diagram-thumbs">
        <div class="diagram-thumb active" onclick="showDiagram('arch')">
            <div class="thumb-icon">ğŸ—ï¸</div>
            <h5>å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h5>
            <p>ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ§‹æˆã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é–¢ä¿‚</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('agent-flow')">
            <div class="thumb-icon">ğŸ¤–</div>
            <h5>ReActã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼</h5>
            <p>ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ€è€ƒãƒ»è¡Œå‹•ãƒ»è¦³å¯Ÿãƒ«ãƒ¼ãƒ—</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('rag-pipeline')">
            <div class="thumb-icon">ğŸ“š</div>
            <h5>RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h5>
            <p>æ–‡æ›¸å–å¾—ã€œå›ç­”ç”Ÿæˆã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('neo4j-schema')">
            <div class="thumb-icon">ğŸ”—</div>
            <h5>çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‚¹ã‚­ãƒ¼ãƒ</h5>
            <p>Neo4jã®ãƒãƒ¼ãƒ‰ãƒ»ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—æ§‹é€ </p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('seq-chat')">
            <div class="thumb-icon">ğŸ’¬</div>
            <h5>ãƒãƒ£ãƒƒãƒˆå‡¦ç†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</h5>
            <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼è³ªå•ã€œå›ç­”è¡¨ç¤ºã¾ã§ã®å‡¦ç†é †åº</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('seq-rag')">
            <div class="thumb-icon">ğŸ”</div>
            <h5>RAGåˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</h5>
            <p>ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢æ§‹ç¯‰ã€œã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆã®æµã‚Œ</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('class-diagram')">
            <div class="thumb-icon">ğŸ“</div>
            <h5>ã‚¯ãƒ©ã‚¹å›³</h5>
            <p>ä¸»è¦ã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã®é–¢ä¿‚</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('data-flow')">
            <div class="thumb-icon">ğŸ”„</div>
            <h5>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</h5>
            <p>ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®é–¢ä¿‚</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('deploy')">
            <div class="thumb-icon">ğŸš€</div>
            <h5>ãƒ‡ãƒ—ãƒ­ã‚¤æ§‹æˆ</h5>
            <p>ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆã¨ãƒãƒ¼ãƒˆãƒ»æ¥ç¶š</p>
        </div>
        <div class="diagram-thumb" onclick="showDiagram('state')">
            <div class="thumb-icon">ğŸ”€</div>
            <h5>StreamlitçŠ¶æ…‹é·ç§»</h5>
            <p>UIã®çŠ¶æ…‹é·ç§»ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</p>
        </div>
    </div>

    <!-- Diagram Display Area (rendered by JS) -->
    <div id="diagram-display"></div>
</div>


<!-- ==================== TAB 6: èª²é¡Œãƒ»Issue ==================== -->
<div id="tab-issues" class="tab-content">
    <h2 class="section-title">ğŸ› èª²é¡Œãƒ»Issueä¸€è¦§</h2>

    <div class="card">
        <h3>ğŸ“‹ ä¸»è¦èª²é¡Œãƒªã‚¹ãƒˆ</h3>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>ã‚¿ã‚¤ãƒˆãƒ«</th>
                    <th>è©³ç´°</th>
                    <th>çŠ¶æ…‹</th>
                    <th>å„ªå…ˆåº¦</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td><strong>Vision RAGæœªå®Ÿè£…</strong></td>
                    <td>Phase 5C-3: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹RAGå¯¾å¿œãŒæœªç€æ‰‹ã€‚è¾²ä½œç‰©ã®ç”»åƒã‹ã‚‰ç—…æ°—è¨ºæ–­ã‚’è¡Œã†æ©Ÿèƒ½ãŒè¨ˆç”»ã•ã‚Œã¦ã„ã‚‹ãŒã€æœªå®Ÿè£…ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-high">é«˜</span></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><strong>æœ¬ç•ªç’°å¢ƒå¯¾å¿œæœªå®Ÿè£…</strong></td>
                    <td>Phase 5C-4: DockeråŒ–ã€ãƒ†ã‚¹ãƒˆæ•´å‚™ã€CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ã€ãƒ­ã‚°ç®¡ç†ãŒæœªå®Ÿè£…ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-high">é«˜</span></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><strong>ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‰é‡è¤‡</strong></td>
                    <td>tools/ ã¨ agents/tools/ ã« calculator, weather, memory ã®é¡ä¼¼å®Ÿè£…ãŒå­˜åœ¨ã€‚ä¿å®ˆã‚³ã‚¹ãƒˆå¢—å¤§ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><strong>UIã‚¢ãƒ—ãƒªé‡è¤‡</strong></td>
                    <td>chatbot_langchain_streamlit.py ã¯chatbot_unified.pyã«æ©Ÿèƒ½çµ±åˆæ¸ˆã¿ã ãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ®‹å­˜ã€‚é–‹ç™ºè€…ã®æ··ä¹±è¦å› ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-low">ä½</span></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><strong>LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦</strong></td>
                    <td>ãƒ­ãƒ¼ã‚«ãƒ«Ollamaï¼ˆphi3:miniï¼‰ã®å¿œç­”ãŒé…ã„å ´åˆãŒã‚ã‚‹ã€‚ReActã®è¤‡æ•°ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§é¡•è‘—ã€‚num_predict=512ã§åˆ¶é™æ¸ˆã¿ã ãŒæ”¹å–„ä½™åœ°ã‚ã‚Šã€‚</td>
                    <td><span class="status status-in-progress">å¯¾å¿œä¸­</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>6</td>
                    <td><strong>ReActãƒ«ãƒ¼ãƒ—ã®è³ªå•å†ç”Ÿæˆå•é¡Œ</strong></td>
                    <td>LLMãŒFinal Answerå¾Œã«æ–°ã—ã„Questionã‚’ç”Ÿæˆã™ã‚‹å•é¡Œã€‚_parse_llm_output()ã§å¯¾ç­–æ¸ˆã¿ã ãŒã€å®Œå…¨ãªè§£æ±ºã«ã¯è‡³ã£ã¦ã„ãªã„ã€‚</td>
                    <td><span class="status status-in-progress">å¯¾å¿œä¸­</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>7</td>
                    <td><strong>RAGãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸è¶³</strong></td>
                    <td>docs/ja/ ã«ãƒˆãƒãƒˆ/ãƒŸãƒ‹ãƒˆãƒãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ã€‚ãã‚…ã†ã‚Šã€ãƒŠã‚¹ã€ãƒ”ãƒ¼ãƒãƒ³ç­‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¸è¶³ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>8</td>
                    <td><strong>Neo4jã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿é™å®š</strong></td>
                    <td>çŸ¥è­˜ã‚°ãƒ©ãƒ•ã®ãƒ‡ãƒ¼ã‚¿ãŒãƒˆãƒãƒˆãƒ»é»„åŒ–è‘‰å·»ç—…ä¸­å¿ƒã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ã¿ã€‚å®Ÿç”¨ã«ã¯å¤§å¹…ãªãƒ‡ãƒ¼ã‚¿æ‹¡å……ãŒå¿…è¦ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>9</td>
                    <td><strong>ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¸è¶³</strong></td>
                    <td>ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒ test_neo4j.py ã®ã¿ã€‚ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€RAGã€ãƒ„ãƒ¼ãƒ«ç¾¤ã®ãƒ†ã‚¹ãƒˆãŒæœªæ•´å‚™ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-high">é«˜</span></td>
                </tr>
                <tr>
                    <td>10</td>
                    <td><strong>.gitignoreæœªè¨­å®š</strong></td>
                    <td>__pycache__/, neo4j_data/, neo4j_logs/, vectorstore/ ç­‰ãŒGitç®¡ç†ã«å«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-low">ä½</span></td>
                </tr>
                <tr>
                    <td>11</td>
                    <td><strong>Embeddingãƒ¢ãƒ‡ãƒ«ã®å¤šè¨€èªå¯¾å¿œ</strong></td>
                    <td>all-MiniLM-L6-v2ã¯è‹±èªæœ€é©åŒ–ãƒ¢ãƒ‡ãƒ«ã€‚æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¤œç´¢ç²¾åº¦å‘ä¸Šã«multilingual-e5-largeç­‰ã®æ¤œè¨ãŒå¿…è¦ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>12</td>
                    <td><strong>RAGTool Streamlitä¾å­˜</strong></td>
                    <td>rag_tool.pyãŒst.session_stateã«ç›´æ¥ä¾å­˜ã—ã¦ãŠã‚Šã€Streamlitå¤–ï¼ˆCLIã‚„ãƒ†ã‚¹ãƒˆï¼‰ã§ã®åˆ©ç”¨ãŒå›°é›£ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-mid">ä¸­</span></td>
                </tr>
                <tr>
                    <td>13</td>
                    <td><strong>calculator_tool unsafeãªevalä½¿ç”¨</strong></td>
                    <td>agents/tools/calculator_tool.pyã®safe_calculate()ã§eval()ã‚’ç›´æ¥ä½¿ç”¨ã€‚ASTç‰ˆï¼ˆtools/calculator.pyï¼‰ã¨ã®çµ±ä¸€ãŒå¿…è¦ã€‚</td>
                    <td><span class="status status-open">æœªç€æ‰‹</span></td>
                    <td><span class="priority priority-high">é«˜</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="grid-2">
        <div class="card">
            <h3>ğŸ“Š èª²é¡Œã‚µãƒãƒªãƒ¼</h3>
            <div class="metrics" style="margin-bottom: 0;">
                <div class="metric-card">
                    <div class="metric-value" style="color: #C62828;">9</div>
                    <div class="metric-label">æœªç€æ‰‹</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" style="color: #F57F17;">2</div>
                    <div class="metric-label">å¯¾å¿œä¸­</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" style="color: #C62828;">4</div>
                    <div class="metric-label">é«˜å„ªå…ˆåº¦</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" style="color: #F57F17;">6</div>
                    <div class="metric-label">ä¸­å„ªå…ˆåº¦</div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>ğŸ¯ æ¨å¥¨å¯¾å¿œé †åº</h3>
            <ol style="padding-left: 1.2rem; line-height: 2;">
                <li><strong>#13</strong> calculator_tool evalã®å®‰å…¨åŒ– <span class="priority priority-high">é«˜</span></li>
                <li><strong>#9</strong> ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æ•´å‚™ <span class="priority priority-high">é«˜</span></li>
                <li><strong>#3</strong> ãƒ„ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‰é‡è¤‡è§£æ¶ˆ <span class="priority priority-mid">ä¸­</span></li>
                <li><strong>#12</strong> RAGTool Streamlitä¾å­˜è§£æ¶ˆ <span class="priority priority-mid">ä¸­</span></li>
                <li><strong>#6</strong> ReActãƒ«ãƒ¼ãƒ—å•é¡Œã®å®Œå…¨è§£æ±º <span class="priority priority-mid">ä¸­</span></li>
                <li><strong>#10</strong> .gitignoreè¨­å®š <span class="priority priority-low">ä½</span></li>
                <li><strong>#7,#8</strong> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒ‡ãƒ¼ã‚¿æ‹¡å…… <span class="priority priority-mid">ä¸­</span></li>
                <li><strong>#1</strong> Vision RAGå®Ÿè£… <span class="priority priority-high">é«˜</span></li>
                <li><strong>#2</strong> æœ¬ç•ªç’°å¢ƒå¯¾å¿œ <span class="priority priority-high">é«˜</span></li>
            </ol>
        </div>
    </div>
</div>

<!-- ==================== TAB 7: æ—¥æœ¬èªå“è³ªæ”¹å–„ ==================== -->
<div id="tab-jpquality" class="tab-content">
    <h2 class="section-title">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èªå¿œç­”å“è³ªã®æ”¹å–„æ‰‹æ³•</h2>

    <div class="card">
        <h3>ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ã‚¤ãƒ¤ãƒ¼å‚ç…§</h3>
        <p style="margin-bottom:0.8rem; color:var(--text-secondary);">å„æ‰‹æ³•ãŒã©ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«é©ç”¨ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã»ã©å¤‰æ›´ãŒå®¹æ˜“ã§ã€ä¸‹ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã»ã©æ ¹æœ¬çš„ãªæ”¹å–„ãŒå¯èƒ½ã§ã™ã€‚</p>
        <div style="display:flex; flex-direction:column; gap:0.2rem; font-size:0.95rem;">
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag tag-blue" style="min-width:170px; text-align:center;">UIå±¤</span> <code>chatbot_unified.py</code>, <code>chatbot_web_streamlit.py</code></div>
            <div style="text-align:left; padding-left:80px; color:var(--text-secondary); font-size:0.8rem;">â†•</div>
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag tag-teal" style="min-width:170px; text-align:center;">ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤</span> <code>agents/langchain_agent.py</code> â€” ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ»Agentãƒ»ãƒã‚§ãƒ¼ãƒ³åˆ¶å¾¡</div>
            <div style="text-align:left; padding-left:80px; color:var(--text-secondary); font-size:0.8rem;">â†•</div>
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag tag-green" style="min-width:170px; text-align:center;">ãƒ„ãƒ¼ãƒ«å±¤</span> <code>agents/tools/</code> â€” calculator, weather, memory, rag, neo4j</div>
            <div style="text-align:left; padding-left:80px; color:var(--text-secondary); font-size:0.8rem;">â†•</div>
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag tag-orange" style="min-width:170px; text-align:center;">RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å±¤</span> <code>langchain_rag.py</code> â€” Embedding â†’ FAISS â†’ Retriever â†’ Reranker</div>
            <div style="text-align:left; padding-left:80px; color:var(--text-secondary); font-size:0.8rem;">â†•</div>
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag tag-red" style="min-width:170px; text-align:center;">LLMãƒ¢ãƒ‡ãƒ«å±¤</span> Ollama â€” phi3:mini / gemma2:2b â†’ ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«</div>
            <div style="text-align:left; padding-left:80px; color:var(--text-secondary); font-size:0.8rem;">â†•</div>
            <div style="display:flex; align-items:center; gap:0.5rem; padding:0.3rem 0;"><span class="tag" style="min-width:170px; text-align:center; background:#6c757d; color:white;">ãƒ‡ãƒ¼ã‚¿å±¤</span> <code>docs/</code>, <code>vectorstore/</code>, <code>neo4j_data/</code></div>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“Š æ‰‹æ³•æ¯”è¼ƒè¡¨</h3>
        <table>
            <thead>
                <tr><th>#</th><th>æ‰‹æ³•</th><th>é©ç”¨ãƒ¬ã‚¤ãƒ¤ãƒ¼</th><th>åŠ¹æœ</th><th>å®Ÿè£…é›£æ˜“åº¦</th><th>GPU</th><th>ãƒ‡ãƒ¼ã‚¿é‡ç›®å®‰</th><th>ãƒ¢ãƒ‡ãƒ«å¤‰æ›´</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td><strong>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°</strong></td><td><span class="tag tag-teal">ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤</span></td><td>â˜…â˜…â˜†â˜†â˜†</td><td><span class="tag tag-green">ä½</span></td><td>ä¸è¦</td><td>ä¸è¦</td><td>ãªã—</td></tr>
                <tr><td>2</td><td><strong>Few-shot / In-Context Learning</strong></td><td><span class="tag tag-teal">ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤</span></td><td>â˜…â˜…â˜…â˜†â˜†</td><td><span class="tag tag-green">ä½</span></td><td>ä¸è¦</td><td>5ã€œ20ä¾‹</td><td>ãªã—</td></tr>
                <tr><td>3</td><td><strong>RAGæœ€é©åŒ–ï¼ˆæ¤œç´¢ç²¾åº¦å‘ä¸Šï¼‰</strong></td><td><span class="tag tag-orange">RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å±¤</span></td><td>â˜…â˜…â˜…â˜†â˜†</td><td><span class="tag tag-orange">ä¸­</span></td><td>ä¸è¦</td><td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¾å­˜</td><td>ãªã—</td></tr>
                <tr><td>4</td><td><strong>LoRA (Low-Rank Adaptation)</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜†</td><td><span class="tag tag-orange">ä¸­ã€œé«˜</span></td><td>1GPU (24GB)</td><td>1Kã€œ10Kä¾‹</td><td>ã‚¢ãƒ€ãƒ—ã‚¿è¿½åŠ </td></tr>
                <tr><td>5</td><td><strong>QLoRA (é‡å­åŒ–LoRA)</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜†</td><td><span class="tag tag-orange">ä¸­</span></td><td>1GPU (12GB)</td><td>1Kã€œ10Kä¾‹</td><td>ã‚¢ãƒ€ãƒ—ã‚¿è¿½åŠ </td></tr>
                <tr><td>6</td><td><strong>Full Fine-tuning</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜…</td><td><span class="tag tag-red">é«˜</span></td><td>4x A100</td><td>10Kã€œ100Kä¾‹</td><td>å…¨é‡ã¿å¤‰æ›´</td></tr>
                <tr><td>7</td><td><strong>DPO / RLHF</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜…</td><td><span class="tag tag-red">é«˜</span></td><td>1GPU+</td><td>1Kã€œ5K pairs</td><td>å…¨é‡ã¿å¤‰æ›´</td></tr>
                <tr><td>8</td><td><strong>çŸ¥è­˜è’¸ç•™ (Distillation)</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜†</td><td><span class="tag tag-red">é«˜</span></td><td>å¿…è¦</td><td>10Kã€œ50Kä¾‹</td><td>æ–°ãƒ¢ãƒ‡ãƒ«ç”Ÿæˆ</td></tr>
                <tr><td>9</td><td><strong>Embedding Fine-tuning</strong></td><td><span class="tag tag-orange">RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å±¤</span></td><td>â˜…â˜…â˜…â˜†â˜†</td><td><span class="tag tag-orange">ä¸­</span></td><td>å°‘é‡</td><td>1Kã€œ5K pairs</td><td>Embeddingã®ã¿</td></tr>
                <tr><td>10</td><td><strong>æ—¥æœ¬èªç‰¹åŒ–ãƒ¢ãƒ‡ãƒ«ã¸ã®åˆ‡æ›¿</strong></td><td><span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span></td><td>â˜…â˜…â˜…â˜…â˜†</td><td><span class="tag tag-green">ä½</span></td><td>ä¸è¦</td><td>ä¸è¦</td><td>ãƒ¢ãƒ‡ãƒ«å·®æ›¿ãˆ</td></tr>
            </tbody>
        </table>
    </div>

    <div class="grid-2">
        <!-- 1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚° -->
        <div class="card">
            <h3>1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-green">GPUä¸è¦</span> <span class="tag tag-green">é›£æ˜“åº¦: ä½</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: æ•°æ™‚é–“</span></div>
            <p><strong>æ¦‚è¦:</strong> LLMã¸ã®æŒ‡ç¤ºæ–‡ï¼ˆã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’æœ€é©åŒ–ã—ã¦æ—¥æœ¬èªå¿œç­”å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹ã€‚ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒæœ€å°ã§ã€å³åº§ã«åŠ¹æœã‚’ç¢ºèªã§ãã‚‹æœ€ã‚‚æ‰‹è»½ãªæ–¹æ³•ã€‚</p>
            <div style="border-left:3px solid #26a69a; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(38,166,154,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-teal">ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> <code>agents/langchain_agent.py</code> ã® <code>system_prompt</code> ã®ã¿<br>
                <strong>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ› â†’ <strong style="color:#26a69a">system_promptï¼ˆã“ã“ã‚’å¤‰æ›´ï¼‰</strong> â†’ ChatOllama â†’ LLMæ¨è«– â†’ å¿œç­”ç”Ÿæˆ<br>
                <strong>ä»–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¸ã®å½±éŸ¿:</strong> ãªã—ã€‚UIå±¤ãƒ»RAGå±¤ãƒ»ãƒ„ãƒ¼ãƒ«å±¤ãƒ»ãƒ‡ãƒ¼ã‚¿å±¤ã¯å¤‰æ›´ä¸è¦ã€‚æœ€ã‚‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã®å½±éŸ¿ãŒå°ã•ã„æ‰‹æ³•
            </div>
            <p style="margin-top:0.8rem;"><strong>å…·ä½“çš„ãªæ”¹å–„ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>æŒ‡ç¤ºæ–‡ã®æ—¥æœ¬èªåŒ–:</strong> ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè‹±èªã®å ´åˆã€æ—¥æœ¬èªã«å¤‰æ›´ã™ã‚‹ã€‚å°å‹ãƒ¢ãƒ‡ãƒ«ï¼ˆ3Bã€œ7Bï¼‰ã¯æ—¥æœ¬èªæŒ‡ç¤ºã®æ–¹ãŒæ—¥æœ¬èªã§å›ç­”ã—ã‚„ã™ã„å‚¾å‘ãŒã‚ã‚‹</li>
                <li><strong>å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ˜ç¤º:</strong> ã€Œç®‡æ¡æ›¸ãã§å›ç­”ã—ã¦ãã ã•ã„ã€ã€Œ3æ®µè½ä»¥å†…ã§å›ç­”ã—ã¦ãã ã•ã„ã€ç­‰ã®æ˜ç¢ºãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæŒ‡å®š</li>
                <li><strong>ãƒ­ãƒ¼ãƒ«è¨­å®š:</strong> ã€Œã‚ãªãŸã¯è¾²æ¥­ã®å°‚é–€å®¶ã§ã™ã€‚è¾²å®¶ã‹ã‚‰ã®è³ªå•ã«å¯¾ã—ã¦ã€ç§‘å­¦çš„æ ¹æ‹ ã«åŸºã¥ã„ãŸå®Ÿè·µçš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æ—¥æœ¬èªã§æä¾›ã—ã¦ãã ã•ã„ã€</li>
                <li><strong>åˆ¶ç´„æ¡ä»¶:</strong> ã€Œæ¨æ¸¬ã§å›ç­”ã—ãªã„ã€ã€Œä¸æ˜ãªå ´åˆã¯æ­£ç›´ã«ä¼ãˆã‚‹ã€ã€Œå‚ç…§å…ƒã‚’æ˜ç¤ºã™ã‚‹ã€</li>
                <li><strong>Chain-of-Thoughtä¿ƒé€²:</strong> ã€Œã¾ãšå•é¡Œã‚’åˆ†æã—ã€æ¬¡ã«è§£æ±ºç­–ã‚’æç¤ºã—ã¦ãã ã•ã„ã€</li>
            </ul>
            <p style="margin-top:0.8rem;"><strong>å¤‰æ›´ç®‡æ‰€:</strong> <code>agents/langchain_agent.py</code> ã® <code>system_prompt</code></p>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> ãƒ¢ãƒ‡ãƒ«è‡ªä½“ã®æ—¥æœ¬èªèƒ½åŠ›ã¯å¤‰ã‚ã‚‰ãªã„ãŸã‚ã€åŠ¹æœã«ä¸Šé™ãŒã‚ã‚‹ã€‚æ–‡æ³•çš„ã«ä¸è‡ªç„¶ãªå¿œç­”ã‚„ã€èªå½™ã®ä¸è¶³ã¯è§£æ¶ˆã§ããªã„ã€‚</p>
        </div>

        <!-- 2. Few-shot -->
        <div class="card">
            <h3>2. Few-shot / In-Context Learning</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-green">GPUä¸è¦</span> <span class="tag tag-green">é›£æ˜“åº¦: ä½</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 1æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã«ã€Œç†æƒ³çš„ãªè³ªå•â†’å›ç­”ã€ã®ä¾‹ï¼ˆ5ã€œ20ä»¶ï¼‰ã‚’åŸ‹ã‚è¾¼ã¿ã€ãƒ¢ãƒ‡ãƒ«ãŒå‡ºåŠ›ã‚¹ã‚¿ã‚¤ãƒ«ã‚„å°‚é–€ç”¨èªã®ä½¿ã„æ–¹ã‚’æ–‡è„ˆã‹ã‚‰å­¦ç¿’ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</p>
            <div style="border-left:3px solid #26a69a; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(38,166,154,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-teal">ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> <code>agents/langchain_agent.py</code> ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€<code>langchain_rag.py</code> ã®QAãƒã‚§ãƒ¼ãƒ³<br>
                <strong>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ› â†’ <strong style="color:#26a69a">Few-shotä¾‹æ³¨å…¥ï¼ˆã“ã“ã‚’å¤‰æ›´ï¼‰</strong> â†’ LLMã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã€RAGæ¤œç´¢çµæœã¨ã®ãƒˆãƒ¼ã‚¯ãƒ³ãƒã‚¸ã‚§ãƒƒãƒˆèª¿æ•´ãŒå¿…è¦ã€‚å‹•çš„é¸æŠæ©Ÿæ§‹ã‚’å°å…¥ã™ã‚‹å ´åˆã€ãƒ„ãƒ¼ãƒ«å±¤ã«åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
            </div>
            <p style="margin-top:0.8rem;"><strong>å…·ä½“çš„ãªå®Ÿè£…æ–¹æ³•:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>å›ç­”ä¾‹ã®é¸å®š:</strong> è¾²æ¥­ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å…¸å‹çš„ãªQ&Aãƒšã‚¢ã‚’ä½œæˆï¼ˆæ ½åŸ¹æ–¹æ³•ã€ç—…å®³å¯¾ç­–ã€è‚¥æ–™è¨ˆç®—ã€å¤©æ°—åˆ¤æ–­ãªã©å„ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰2ã€œ3ä¾‹ï¼‰</li>
                <li><strong>å“è³ªåŸºæº–ã®è¨­å®š:</strong> ä¾‹æ–‡ã«ã¯æ­£ç¢ºãªè¾²æ¥­ç”¨èªã€è‡ªç„¶ãªæ—¥æœ¬èªè¡¨ç¾ã€é©åˆ‡ãªæ•¬èªãƒ¬ãƒ™ãƒ«ã€å…·ä½“çš„ãªæ•°å€¤ã‚’å«ã‚ã‚‹</li>
                <li><strong>å‹•çš„é¸æŠ:</strong> è³ªå•ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦é–¢é€£ã™ã‚‹Few-shotä¾‹ã‚’å‹•çš„ã«é¸æŠï¼ˆcalculationã‚¿ã‚¤ãƒ—ãªã‚‰è¨ˆç®—ä¾‹ã€diagnosisã‚¿ã‚¤ãƒ—ãªã‚‰è¨ºæ–­ä¾‹ï¼‰</li>
                <li><strong>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:</strong> <code>Q: ãƒˆãƒãƒˆã®è‚²è‹—æœŸã®æ°´ã‚„ã‚Šé »åº¦ã¯ï¼Ÿ A: ãƒˆãƒãƒˆã®è‚²è‹—æœŸï¼ˆ2ã€œ4æœˆï¼‰ã®æ°´ã‚„ã‚Šã¯ã€åœŸã®è¡¨é¢ãŒä¹¾ã„ã¦ã‹ã‚‰è¡Œã„ã¾ã™ã€‚ç›®å®‰ã¨ã—ã¦1æ—¥1å›ã€æœã®æš–ã‹ã„æ™‚é–“å¸¯ã«...</code></li>
            </ul>
            <p style="margin-top:0.8rem;"><strong>å¤‰æ›´ç®‡æ‰€:</strong> <code>agents/langchain_agent.py</code> ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€<code>langchain_rag.py</code> ã®QAãƒã‚§ãƒ¼ãƒ³ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</p>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’æ¶ˆè²»ã™ã‚‹ï¼ˆä¾‹: 20ä¾‹ã§1000ã€œ2000ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã€‚ãƒ¢ãƒ‡ãƒ«ã®èƒ½åŠ›ä¸Šé™ã‚’è¶…ãˆã‚‹å¿œç­”ã¯ç”Ÿæˆã§ããªã„ã€‚Few-shotã®å“è³ªãŒãã®ã¾ã¾å‡ºåŠ›å“è³ªã«å½±éŸ¿ã™ã‚‹ã€‚</p>
        </div>

        <!-- 3. RAGæœ€é©åŒ– -->
        <div class="card">
            <h3>3. RAGæœ€é©åŒ–ï¼ˆæ¤œç´¢ç²¾åº¦å‘ä¸Šï¼‰</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-green">GPUä¸è¦</span> <span class="tag tag-orange">é›£æ˜“åº¦: ä¸­</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 2ã€œ3æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’æ—¥æœ¬èªã«æœ€é©åŒ–ã—ã€æ¤œç´¢ç²¾åº¦ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ã§ã€LLMã«æ­£ç¢ºãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›ã—ã¦å¿œç­”å“è³ªã‚’æ”¹å–„ã™ã‚‹ã€‚</p>
            <div style="border-left:3px solid #ff9800; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(255,152,0,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-orange">RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> <code>langchain_rag.py</code>ï¼ˆEmbeddingsãƒ»ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ãƒ»Retrieverï¼‰ã€<code>vectorstore/</code><br>
                <strong>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼:</strong> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ â†’ <strong style="color:#ff9800">TextSplitter â†’ Embedding â†’ FAISS â†’ Retrieverï¼ˆã“ã®å…¨ä½“ã‚’æœ€é©åŒ–ï¼‰</strong> â†’ LLMã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> Embeddingãƒ¢ãƒ‡ãƒ«å¤‰æ›´æ™‚ã¯æ—¢å­˜ã®FAISSã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å†æ§‹ç¯‰ãŒå¿…è¦ã€‚ãƒªãƒ©ãƒ³ã‚«ãƒ¼è¿½åŠ æ™‚ã¯RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«æ–°ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’æŒ¿å…¥ã€‚<code>agents/tools/rag_tool.py</code> ãŒRetrieverã‚’å‘¼ã³å‡ºã™ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚å½±éŸ¿ã‚’å—ã‘ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
            </div>
            <p style="margin-top:0.8rem;"><strong>æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>å¤šè¨€èªEmbeddingãƒ¢ãƒ‡ãƒ«å°å…¥:</strong>
                    <ul style="padding-left:1rem;">
                        <li><code>intfloat/multilingual-e5-large</code> â€” å¤šè¨€èªå¯¾å¿œã€æ—¥æœ¬èªæ¤œç´¢ç²¾åº¦ãŒé«˜ã„ï¼ˆæ¨å¥¨ï¼‰</li>
                        <li><code>sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2</code> â€” è»½é‡ã§å¤šè¨€èªå¯¾å¿œ</li>
                        <li><code>cl-nagoya/sup-simcse-ja-base</code> â€” æ—¥æœ¬èªç‰¹åŒ–ï¼ˆåå¤å±‹å¤§å­¦ï¼‰</li>
                    </ul>
                </li>
                <li><strong>ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã®æœ€é©åŒ–:</strong> æ—¥æœ¬èªã¯1æ–‡å­—ã‚ãŸã‚Šã®æƒ…å ±é‡ãŒè‹±èªã‚ˆã‚Šå¤šã„ãŸã‚ã€<code>chunk_size</code>ã‚’500â†’300ã€œ400ã«ç¸®å°ã€<code>chunk_overlap</code>ã‚’50â†’100ã«å¢—åŠ </li>
                <li><strong>å½¢æ…‹ç´ è§£æãƒ™ãƒ¼ã‚¹åˆ†å‰²:</strong> <code>fugashi</code>ï¼ˆMeCabï¼‰ã‚„<code>spacy</code>ã®æ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã„ã€å“è©å¢ƒç•Œã§ã®ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²</li>
                <li><strong>ãƒªãƒ©ãƒ³ã‚­ãƒ³ã‚°å°å…¥:</strong> FAISSæ¤œç´¢å¾Œã« Cross-Encoderï¼ˆ<code>cross-encoder/ms-marco-MiniLM-L-6-v2</code>ï¼‰ã§ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã—ç›´ã™ã€‚k=10ã§æ¤œç´¢â†’ãƒªãƒ©ãƒ³ã‚«ãƒ¼ã§ä¸Šä½2ä»¶ã«çµã‚‹</li>
                <li><strong>Hybrid Search:</strong> ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ + BM25ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã®ä½µç”¨ï¼ˆ<code>rank_bm25</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰</li>
            </ul>
            <p style="margin-top:0.8rem;"><strong>å¤‰æ›´ç®‡æ‰€:</strong> <code>langchain_rag.py</code> ã®Embeddingsè¨­å®šã€TextSplitterè¨­å®šã€Retrieverè¨­å®š</p>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> æ¤œç´¢ç²¾åº¦ã¯å‘ä¸Šã™ã‚‹ãŒã€LLMè‡ªä½“ã®æ—¥æœ¬èªç”Ÿæˆèƒ½åŠ›ã¯å¤‰ã‚ã‚‰ãªã„ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å«ã¾ã‚Œãªã„çŸ¥è­˜ã«ã¯å›ç­”ã§ããªã„ã€‚</p>
        </div>

        <!-- 4. LoRA -->
        <div class="card">
            <h3>4. LoRA (Low-Rank Adaptation)</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-red">GPUå¿…è¦</span> <span class="tag tag-orange">é›£æ˜“åº¦: ä¸­ã€œé«˜</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 3ã€œ5æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> ãƒ¢ãƒ‡ãƒ«ã®Transformerå±¤ã«low-rankè¡Œåˆ—ï¼ˆå°ã•ãªå­¦ç¿’å¯èƒ½ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã‚’è¿½åŠ ã—ã€å…ƒã®ãƒ¢ãƒ‡ãƒ«ã®é‡ã¿ã‚’å‡çµã—ãŸã¾ã¾å°‘é‡ãƒ‡ãƒ¼ã‚¿ã§åŠ¹ç‡çš„ã«å­¦ç¿’ã™ã‚‹æ‰‹æ³•ã€‚2023å¹´ã«ç™ºè¡¨ã•ã‚Œã¦ä»¥æ¥ã€LLM Fine-tuningã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> Ollamaãƒ¢ãƒ‡ãƒ«ï¼ˆã‚«ã‚¹ã‚¿ãƒ GGUFã¨ã—ã¦ç™»éŒ²ï¼‰ã€<code>agents/langchain_agent.py</code>ï¼ˆãƒ¢ãƒ‡ãƒ«åå¤‰æ›´ï¼‰<br>
                <strong>ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³:</strong> PEFTå­¦ç¿’ â†’ <code>merge_and_unload()</code> â†’ llama.cpp GGUFå¤‰æ› â†’ <code>Modelfile</code> â†’ <code>ollama create</code> â†’ Ollamaãƒ¬ã‚¸ã‚¹ãƒˆãƒª<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> å­¦ç¿’ç’°å¢ƒï¼ˆGPUã‚µãƒ¼ãƒãƒ¼ï¼‰ã¨æ¨è«–ç’°å¢ƒï¼ˆOllamaï¼‰ãŒåˆ†é›¢ã€‚å­¦ç¿’å¾Œãƒ¢ãƒ‡ãƒ«ã®CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆGGUFå¤‰æ›ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ç™»éŒ²ï¼‰ã®è‡ªå‹•åŒ–ãŒé‡è¦ã€‚æ—¢å­˜ã®UIå±¤ãƒ»RAGå±¤ãƒ»ãƒ„ãƒ¼ãƒ«å±¤ã¯å¤‰æ›´ä¸è¦
            </div>
            <p style="margin-top:0.8rem;"><strong>æŠ€è¡“çš„è©³ç´°:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>ä»•çµ„ã¿:</strong> å…ƒã®ãƒ¢ãƒ‡ãƒ«ã®é‡ã¿è¡Œåˆ— W ã«å¯¾ã—ã¦ã€W + BAï¼ˆB: dÃ—r, A: rÃ—d, r << dï¼‰ã®ä½ãƒ©ãƒ³ã‚¯æ›´æ–°ã‚’è¿½åŠ ã€‚rank r = 8ã€œ64 ã§ååˆ†ãªåŠ¹æœãŒå¾—ã‚‰ã‚Œã‚‹</li>
                <li><strong>å­¦ç¿’å¯¾è±¡:</strong> Query/Key/Valueå°„å½±è¡Œåˆ—ï¼ˆq_proj, k_proj, v_proj, o_projï¼‰ãŒä¸€èˆ¬çš„ã€‚å…¨å±¤ã¾ãŸã¯æœ€å¾Œã®æ•°å±¤ã ã‘ã‚’å¯¾è±¡ã«ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½</li>
                <li><strong>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŠ¹ç‡:</strong> å…ƒã®7Bãƒ¢ãƒ‡ãƒ«ã®å…¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿70å„„ã«å¯¾ã—ã€LoRAã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯æ•°ç™¾ä¸‡ï¼ˆ0.1ã€œ1%ç¨‹åº¦ï¼‰</li>
                <li><strong>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿:</strong> è¾²æ¥­Q&Aã®æ—¥æœ¬èªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ 1,000ã€œ10,000ä»¶ã€‚Alpacaå½¢å¼ï¼ˆinstruction, input, outputï¼‰ã§æº–å‚™</li>
                <li><strong>ãƒ„ãƒ¼ãƒ«:</strong> Hugging Face <code>PEFT</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€<code>Unsloth</code>ï¼ˆ2ã€œ5å€ã®é«˜é€ŸåŒ–ï¼‰ã€<code>Axolotl</code>ï¼ˆè¨­å®šãƒ™ãƒ¼ã‚¹å­¦ç¿’ï¼‰</li>
                <li><strong>GPU:</strong> 7Bãƒ¢ãƒ‡ãƒ«ã§ RTX 3090/4090 (24GB VRAM) 1æšã§å­¦ç¿’å¯èƒ½</li>
                <li><strong>å­¦ç¿’æ™‚é–“:</strong> 1,000ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã§ 1ã€œ3æ™‚é–“ï¼ˆRTX 4090ï¼‰</li>
            </ul>
            <p style="margin-top:0.8rem;"><strong>Ollamaçµ±åˆæ‰‹é †:</strong></p>
            <ol style="padding-left:1.2rem; line-height:2;">
                <li>Hugging Face <code>PEFT</code> + <code>transformers</code> ã§LoRAå­¦ç¿’</li>
                <li>LoRAã‚¢ãƒ€ãƒ—ã‚¿ã‚’å…ƒã®ãƒ¢ãƒ‡ãƒ«ã«ãƒãƒ¼ã‚¸: <code>model.merge_and_unload()</code></li>
                <li><code>llama.cpp</code> ã® <code>convert.py</code> ã§GGUFå½¢å¼ã«å¤‰æ›</li>
                <li><code>Modelfile</code> ã‚’ä½œæˆã—ã¦ <code>ollama create</code> ã§ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«ç™»éŒ²</li>
                <li><code>langchain_agent.py</code> ã®ãƒ¢ãƒ‡ãƒ«åã‚’ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ‡ãƒ«ã«å¤‰æ›´</li>
            </ol>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å“è³ªã«å¤§ããä¾å­˜ã™ã‚‹ã€‚ä¸é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’ã™ã‚‹ã¨ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒå¢—åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ãƒ‰ãƒ¡ã‚¤ãƒ³å¤–ã®çŸ¥è­˜ã¯æ”¹å–„ã•ã‚Œãªã„ã€‚</p>
        </div>

        <!-- 5. QLoRA -->
        <div class="card">
            <h3>5. QLoRA (é‡å­åŒ–LoRA)</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-red">GPUå¿…è¦</span> <span class="tag tag-orange">é›£æ˜“åº¦: ä¸­</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 3ã€œ5æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> LoRAã®ç™ºå±•ç‰ˆã€‚ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’4bité‡å­åŒ–ã—ã¦èª­ã¿è¾¼ã¿ã€ãã®ä¸Šã«LoRAã‚¢ãƒ€ãƒ—ã‚¿ã‚’16bitã§è¿½åŠ å­¦ç¿’ã™ã‚‹ã€‚LoRAã¨ã»ã¼åŒç­‰ã®å“è³ªã‚’ã€å¤§å¹…ã«å°‘ãªã„VRAMã§å®Ÿç¾ã§ãã‚‹ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> LoRAã¨åŒä¸€ã€‚Ollamaãƒ¢ãƒ‡ãƒ«ï¼ˆã‚«ã‚¹ã‚¿ãƒ GGUFï¼‰ã€<code>agents/langchain_agent.py</code>ï¼ˆãƒ¢ãƒ‡ãƒ«åï¼‰<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®åˆ©ç‚¹:</strong> å­¦ç¿’æ™‚ã®VRAMè¦ä»¶ãŒä½ã„ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ã®é–‹ç™ºç’°å¢ƒã§ã‚‚å­¦ç¿’å¯èƒ½ã€‚æ¨è«–æ™‚ã¯ãƒãƒ¼ã‚¸å¾Œã®FP16/GGUFãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã†ãŸã‚ã€æ¨è«–ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯LoRAã¨åŒç­‰ã€‚ã“ã®PoCã®Docker Composeç’°å¢ƒã«æœ€ã‚‚é©åˆã™ã‚‹ Fine-tuning æ‰‹æ³•
            </div>
            <p style="margin-top:0.8rem;"><strong>æŠ€è¡“çš„è©³ç´°:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>ä»•çµ„ã¿:</strong> NormalFloat4 (NF4) é‡å­åŒ– + Double Quantization ã§ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’ 1/4 ã«å‰Šæ¸›ã€‚LoRAéƒ¨åˆ†ã®ã¿ BFloat16 ã§å­¦ç¿’</li>
                <li><strong>VRAMè¦ä»¶:</strong>
                    <ul style="padding-left:1rem;">
                        <li>7Bãƒ¢ãƒ‡ãƒ«: ç´„6ã€œ8GB VRAMï¼ˆRTX 3060 12GB ã§å®Ÿè¡Œå¯èƒ½ï¼‰</li>
                        <li>13Bãƒ¢ãƒ‡ãƒ«: ç´„12ã€œ16GB VRAMï¼ˆRTX 4090 24GB ã§å®Ÿè¡Œå¯èƒ½ï¼‰</li>
                    </ul>
                </li>
                <li><strong>LoRAã¨ã®å“è³ªå·®:</strong> è«–æ–‡ã«ã‚ˆã‚‹ã¨ã€Full Fine-tuning ã®çµæœã¨æ¯”è¼ƒã—ã¦ 99% ä»¥ä¸Šã®æ€§èƒ½ã‚’ç¶­æŒ</li>
                <li><strong>ãƒ„ãƒ¼ãƒ«:</strong> <code>bitsandbytes</code>ï¼ˆé‡å­åŒ–ï¼‰ã€<code>PEFT</code>ï¼ˆLoRAï¼‰ã€<code>Unsloth</code>ï¼ˆæ¨å¥¨: 2å€é«˜é€Ÿã€40%å°‘ãªã„VRAMï¼‰</li>
                <li><strong>ã“ã®PoCã«æœ€é©:</strong> ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§GPU 1æšã‚ã‚Œã°å®Ÿè¡Œå¯èƒ½ãªãŸã‚ã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ãŒæœ€ã‚‚é«˜ã„ Fine-tuning æ‰‹æ³•</li>
            </ul>
            <p style="margin-top:0.8rem;"><strong>å­¦ç¿’ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆUnslothï¼‰:</strong></p>
            <div class="code-block">from unsloth import FastLanguageModel
model, tokenizer = FastLanguageModel.from_pretrained(
    model_name="unsloth/Qwen2.5-7B-bnb-4bit",
    max_seq_length=2048,
    load_in_4bit=True
)
model = FastLanguageModel.get_peft_model(
    model, r=16, lora_alpha=16,
    target_modules=["q_proj","k_proj","v_proj","o_proj"],
    lora_dropout=0, bias="none"
)
# SFTTrainer ã§è¾²æ¥­Q&Aãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å­¦ç¿’
# â†’ GGUFå¤‰æ› â†’ Ollamaç™»éŒ²</div>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> LoRAã¨åŒæ§˜ã€å­¦ç¿’ãƒ‡ãƒ¼ã‚¿å“è³ªã¸ã®ä¾å­˜ãŒé«˜ã„ã€‚é‡å­åŒ–ã«ã‚ˆã‚‹å¾®å°ãªç²¾åº¦ä½ä¸‹ãŒã‚ã‚‹ï¼ˆå®Ÿç”¨ä¸Šã¯ç„¡è¦–ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ï¼‰ã€‚</p>
        </div>

        <!-- 6. Full Fine-tuning -->
        <div class="card">
            <h3>6. Full Fine-tuning</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-red">å¤§é‡GPUå¿…è¦</span> <span class="tag tag-red">é›£æ˜“åº¦: é«˜</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 1ã€œ2é€±é–“</span></div>
            <p><strong>æ¦‚è¦:</strong> ãƒ¢ãƒ‡ãƒ«ã®å…¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¯¾è±¡ã«å­¦ç¿’ã‚’è¡Œã†ã€‚æœ€é«˜å“è³ªã®çµæœãŒå¾—ã‚‰ã‚Œã‚‹ãŒã€è¨ˆç®—ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ãã€å¤§è¦æ¨¡ãªè¨ˆç®—ãƒªã‚½ãƒ¼ã‚¹ãŒå¿…è¦ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span><br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> ãƒ¢ãƒ‡ãƒ«å…¨ä½“ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã‚ã€æ–°è¦ãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦Ollamaã«ç™»éŒ²<br>
                <strong>ã‚¤ãƒ³ãƒ•ãƒ©è¦ä»¶:</strong> å­¦ç¿’ã«ã¯ã‚¯ãƒ©ã‚¦ãƒ‰GPUã‚¯ãƒ©ã‚¹ã‚¿ï¼ˆA100 x4ï¼‰ãŒå¿…è¦ã€‚ç¾åœ¨ã®<code>docker-compose.yml</code>ã®Ollamaã‚³ãƒ³ãƒ†ãƒŠã¨ã¯åˆ¥ã«å­¦ç¿’ã‚¤ãƒ³ãƒ•ãƒ©ãŒå¿…è¦<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> Catastrophic Forgettingã«ã‚ˆã‚Šã€ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—ã‚„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¿œç­”ã®èƒ½åŠ›ãŒä½ä¸‹ã™ã‚‹ãƒªã‚¹ã‚¯ã‚ã‚Šã€‚Agentã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆãƒ„ãƒ¼ãƒ«é¸æŠãƒ»å®Ÿè¡Œï¼‰ã¸ã®å½±éŸ¿ã‚’ååˆ†æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
            </div>
            <p style="margin-top:0.8rem;"><strong>æŠ€è¡“çš„è©³ç´°:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>GPUè¦ä»¶:</strong> 7Bãƒ¢ãƒ‡ãƒ«ã§æœ€ä½ 4x A100 (80GB) æ¨å¥¨ã€‚DeepSpeed ZeRO-3 ã‚„ FSDP ã§åˆ†æ•£å­¦ç¿’</li>
                <li><strong>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿:</strong> é«˜å“è³ªãªæ—¥æœ¬èªè¾²æ¥­ãƒ‡ãƒ¼ã‚¿ 10,000ã€œ100,000ä»¶ã€‚ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã€æ•™ç§‘æ›¸ã€è«–æ–‡ã€FAQç­‰ã‚’æ··åˆ</li>
                <li><strong>ã‚³ã‚¹ãƒˆ:</strong> ã‚¯ãƒ©ã‚¦ãƒ‰GPUä½¿ç”¨ã®å ´åˆã€A100 x4 ã§ 1æ™‚é–“ã‚ãŸã‚Šç´„$15ã€œ$30ã€‚å­¦ç¿’ã«æ•°æ—¥ã‹ã‹ã‚‹ãŸã‚ $500ã€œ$2,000+</li>
                <li><strong>Catastrophic Forgetting:</strong> å…¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°ã®ãŸã‚ã€å…ƒã®ãƒ¢ãƒ‡ãƒ«ã®æ±ç”¨èƒ½åŠ›ãŒå¤±ã‚ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚é©åˆ‡ãªå­¦ç¿’ç‡ï¼ˆ1e-5ã€œ5e-5ï¼‰ã¨ãƒ‡ãƒ¼ã‚¿æ··åˆãŒé‡è¦</li>
                <li><strong>ä¸€èˆ¬çš„ã«ã¯LoRA/QLoRAã§ååˆ†:</strong> Full Fine-tuningã¯ã€LoRAã§ã¯é”æˆã§ããªã„æ ¹æœ¬çš„ãªè¨€èªèƒ½åŠ›ã®å¤‰æ›´ãŒå¿…è¦ãªå ´åˆã®ã¿æ¨å¥¨</li>
            </ul>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„ã€‚Catastrophic Forgettingã®ãƒªã‚¹ã‚¯ã€‚å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ãŒé›£ã—ã„ã€‚PoCæ®µéšã§ã¯ä¸€èˆ¬çš„ã«ä¸è¦ã€‚</p>
        </div>

        <!-- 7. DPO / RLHF -->
        <div class="card">
            <h3>7. DPO (Direct Preference Optimization) / RLHF</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-red">GPUå¿…è¦</span> <span class="tag tag-red">é›£æ˜“åº¦: é«˜</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 5ã€œ7æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> äººé–“ã®å¥½ã¿ï¼ˆPreferenceï¼‰ã«åˆã‚ã›ã¦ãƒ¢ãƒ‡ãƒ«ã‚’æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚SFTï¼ˆæ•™å¸«ã‚ã‚Š Fine-tuningï¼‰å¾Œã«é©ç”¨ã—ã€ã€Œè‡ªç„¶ãªæ—¥æœ¬èªã€ã€Œæ­£ç¢ºãªå›ç­”ã€ã‚’å„ªå…ˆã™ã‚‹ã‚ˆã†å­¦ç¿’ã•ã›ã‚‹ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span>ï¼ˆã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆãƒ•ã‚§ãƒ¼ã‚ºï¼‰<br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> SFTæ¸ˆã¿ãƒ¢ãƒ‡ãƒ« â†’ DPO/RLHF â†’ æœ€çµ‚ãƒ¢ãƒ‡ãƒ« â†’ GGUF â†’ Ollama<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®ä½ç½®:</strong> LoRA/QLoRAã®SFTå¾Œã®ã€Œä»•ä¸Šã’ã€ãƒ•ã‚§ãƒ¼ã‚ºã€‚å­¦ç¿’ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ã€ŒSFT â†’ Preferenceãƒ‡ãƒ¼ã‚¿åé›† â†’ DPOå­¦ç¿’ â†’ GGUFå¤‰æ›ã€ã¨ãªã‚Šã€ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒè¤‡é›‘åŒ–ã™ã‚‹<br>
                <strong>ãƒ‡ãƒ¼ã‚¿åé›†ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> UIå±¤ã«A/Bãƒ†ã‚¹ãƒˆã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿæ§‹ã‚’è¿½åŠ ã—ã¦Preferenceãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•åé›†ã™ã‚‹è¨­è¨ˆãŒç†æƒ³çš„
            </div>
            <p style="margin-top:0.8rem;"><strong>DPO vs RLHF:</strong></p>
            <table style="margin: 0.5rem 0;">
                <thead><tr><th>é …ç›®</th><th>RLHF</th><th>DPO</th></tr></thead>
                <tbody>
                    <tr><td>å ±é…¬ãƒ¢ãƒ‡ãƒ«</td><td>å¿…è¦ï¼ˆåˆ¥ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ï¼‰</td><td>ä¸è¦ï¼ˆç›´æ¥æœ€é©åŒ–ï¼‰</td></tr>
                    <tr><td>å®Ÿè£…è¤‡é›‘åº¦</td><td>é«˜ï¼ˆPPOã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼‰</td><td>ä¸­ï¼ˆå˜ç´”ãªæå¤±é–¢æ•°ï¼‰</td></tr>
                    <tr><td>å­¦ç¿’å®‰å®šæ€§</td><td>ä½ï¼ˆãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ•æ„Ÿï¼‰</td><td>é«˜ï¼ˆå®‰å®šã—ãŸå­¦ç¿’ï¼‰</td></tr>
                    <tr><td>GPUè¦ä»¶</td><td>2ãƒ¢ãƒ‡ãƒ«åˆ†ã®VRAM</td><td>1ãƒ¢ãƒ‡ãƒ«åˆ†ã®VRAM</td></tr>
                    <tr><td>å“è³ª</td><td>æœ€é«˜ï¼ˆé©åˆ‡ã«èª¿æ•´æ™‚ï¼‰</td><td>RLHFã«åŒ¹æ•µ</td></tr>
                </tbody>
            </table>
            <p style="margin-top:0.8rem;"><strong>ãƒ‡ãƒ¼ã‚¿å½¢å¼:</strong> å„è³ªå•ã«å¯¾ã—ã¦ (è‰¯ã„å›ç­”, æ‚ªã„å›ç­”) ã®ãƒšã‚¢ã‚’ä½œæˆ</p>
            <div class="code-block">{
  "prompt": "ãƒˆãƒãƒˆã®è‘‰ãŒé»„è‰²ããªã£ã¦ã„ã¾ã™ã€‚åŸå› ã¯ï¼Ÿ",
  "chosen": "ãƒˆãƒãƒˆã®è‘‰ã®é»„å¤‰ã«ã¯è¤‡æ•°ã®åŸå› ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚ä¸»ãªåŸå› ã¨ã—ã¦...",
  "rejected": "The leaves turning yellow might be due to..."
}</div>
            <p style="margin-top:0.5rem;"><strong>å®Ÿç”¨çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: LoRA + DPO</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li>Step 1: QLoRAã§è¾²æ¥­Q&Aãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦SFT</li>
                <li>Step 2: SFTãƒ¢ãƒ‡ãƒ«ã®å‡ºåŠ›ã‹ã‚‰ (chosen, rejected) ãƒšã‚¢ã‚’ä½œæˆ</li>
                <li>Step 3: DPOã§ã€Œæ—¥æœ¬èªã§ä¸å¯§ã‹ã¤æ­£ç¢ºãªå›ç­”ã€ã‚’å„ªå…ˆã™ã‚‹ã‚ˆã†å­¦ç¿’</li>
            </ul>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> Preferenceãƒ‡ãƒ¼ã‚¿ã®ä½œæˆã«äººæ‰‹ãŒå¿…è¦ï¼ˆæœ€ã‚‚åŠ´åŠ›ãŒã‹ã‹ã‚‹å·¥ç¨‹ï¼‰ã€‚ãƒ‡ãƒ¼ã‚¿ã®ãƒã‚¤ã‚¢ã‚¹ãŒãƒ¢ãƒ‡ãƒ«ã«ç›´æ¥åæ˜ ã•ã‚Œã‚‹ã€‚1Kã€œ5K ãƒšã‚¢ã®ä½œæˆã«æ•°æ—¥ã€œæ•°é€±é–“ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚‹ã€‚</p>
        </div>

        <!-- 8. çŸ¥è­˜è’¸ç•™ -->
        <div class="card">
            <h3>8. çŸ¥è­˜è’¸ç•™ (Knowledge Distillation)</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-red">GPUå¿…è¦</span> <span class="tag tag-red">é›£æ˜“åº¦: é«˜</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 1ã€œ2é€±é–“</span></div>
            <p><strong>æ¦‚è¦:</strong> é«˜æ€§èƒ½ãªå¤§å‹ãƒ¢ãƒ‡ãƒ«ï¼ˆæ•™å¸«ãƒ¢ãƒ‡ãƒ«ï¼‰ã®å‡ºåŠ›ã‚’ä½¿ã£ã¦ã€å°å‹ãƒ¢ãƒ‡ãƒ«ï¼ˆç”Ÿå¾’ãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’å­¦ç¿’ã•ã›ã‚‹æ‰‹æ³•ã€‚GPT-4oã‚„Claudeç­‰ã®æ—¥æœ¬èªå›ç­”ã‚’å°å‹ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ã«è»¢å†™ã™ã‚‹ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span>ï¼ˆã‚¯ãƒ­ã‚¹ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ï¼‰<br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> å¤–éƒ¨APIï¼ˆGPT-4oï¼‰â†’ å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ â†’ QLoRAå­¦ç¿’ â†’ ãƒ­ãƒ¼ã‚«ãƒ«Ollamaãƒ¢ãƒ‡ãƒ«<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã«å¤–éƒ¨APIã¸ã®ä¾å­˜ãŒç™ºç”Ÿã€‚ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆè³ªå•ã‚»ãƒƒãƒˆ â†’ APIãƒãƒƒãƒå®Ÿè¡Œ â†’ å“è³ªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° â†’ å­¦ç¿’ãƒ‡ãƒ¼ã‚¿å½¢å¼å¤‰æ›ï¼‰ã®æ§‹ç¯‰ãŒå¿…è¦ã€‚æ¨è«–æ™‚ã¯å®Œå…¨ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œ
            </div>
            <p style="margin-top:0.8rem;"><strong>å…·ä½“çš„ãªæ‰‹é †:</strong></p>
            <ol style="padding-left:1.2rem; line-height:2;">
                <li><strong>è³ªå•ã‚»ãƒƒãƒˆä½œæˆ:</strong> è¾²æ¥­é–¢é€£ã®è³ªå•ã‚’500ã€œ5,000ä»¶ç”¨æ„ï¼ˆFAQã€æ•™ç§‘æ›¸ã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è³ªå•ã‹ã‚‰ï¼‰</li>
                <li><strong>æ•™å¸«ãƒ¢ãƒ‡ãƒ«ã§å›ç­”ç”Ÿæˆ:</strong> GPT-4oç­‰ã®APIã§å„è³ªå•ã«å¯¾ã™ã‚‹é«˜å“è³ªãªæ—¥æœ¬èªå›ç­”ã‚’ç”Ÿæˆ</li>
                <li><strong>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿æ•´å½¢:</strong> (question, teacher_answer) ã®ãƒšã‚¢ãƒ‡ãƒ¼ã‚¿ã‚’Alpacaå½¢å¼ã«å¤‰æ›</li>
                <li><strong>ç”Ÿå¾’ãƒ¢ãƒ‡ãƒ«å­¦ç¿’:</strong> QLoRAã§å°å‹ãƒ¢ãƒ‡ãƒ«ï¼ˆphi3:mini, qwen2.5:7bç­‰ï¼‰ã‚’Fine-tune</li>
                <li><strong>å“è³ªæ¤œè¨¼:</strong> ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã§æ•™å¸«ãƒ¢ãƒ‡ãƒ«ã¨ã®å›ç­”å·®ã‚’è©•ä¾¡</li>
            </ol>
            <p style="margin-top:0.8rem;"><strong>ã‚³ã‚¹ãƒˆè©¦ç®—:</strong></p>
            <ul style="padding-left:1.2rem; line-height:1.8;">
                <li>GPT-4o API: 5,000è³ªå• Ã— å¹³å‡500ãƒˆãƒ¼ã‚¯ãƒ³ â‰ˆ $10ã€œ$25</li>
                <li>QLoRAå­¦ç¿’: GPU 1æšã§ 2ã€œ4æ™‚é–“</li>
                <li>åˆè¨ˆ: $30ã€œ$50 + GPUæ™‚é–“</li>
            </ul>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> å“è³ªã®ä¸Šé™ã¯æ•™å¸«ãƒ¢ãƒ‡ãƒ«ã«ä¾å­˜ã€‚APIã®åˆ©ç”¨è¦ç´„ã§å•†ç”¨åˆ©ç”¨ãŒåˆ¶é™ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ï¼ˆOpenAI ToSç¢ºèªè¦ï¼‰ã€‚æ•™å¸«ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ãã®ã¾ã¾å­¦ç¿’ã•ã‚Œã‚‹ã€‚</p>
        </div>

        <!-- 9. Embedding Fine-tuning -->
        <div class="card">
            <h3>9. Embedding Fine-tuning</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-orange">å°‘é‡GPU</span> <span class="tag tag-orange">é›£æ˜“åº¦: ä¸­</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 2ã€œ3æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> RAGã§ä½¿ç”¨ã™ã‚‹Embeddingãƒ¢ãƒ‡ãƒ«ã‚’è¾²æ¥­ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ã§Fine-tuneã—ã€æ—¥æœ¬èªè¾²æ¥­æ–‡æ›¸ã®æ¤œç´¢ç²¾åº¦ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚LLMã®ç”Ÿæˆèƒ½åŠ›ã¯å¤‰ã‚ã‚‰ãªã„ãŒã€ã‚ˆã‚Šæ­£ç¢ºãªæ–‡æ›¸ã‚’æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚</p>
            <div style="border-left:3px solid #ff9800; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(255,152,0,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-orange">RAGãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å±¤</span>ï¼ˆEmbeddingã‚µãƒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰<br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> <code>langchain_rag.py</code> ã®Embeddingsè¨­å®šã€<code>vectorstore/langchain_faiss/</code>ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰å¿…è¦ï¼‰<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> ã‚«ã‚¹ã‚¿ãƒ Embeddingãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’æ±ºã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« / Hugging Face Hub / Dockerã‚¤ãƒ¡ãƒ¼ã‚¸å†…ï¼‰ã€‚FAISSã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒé‡è¦ï¼ˆEmbeddingãƒ¢ãƒ‡ãƒ«å¤‰æ›´æ™‚ã«å…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå¿…è¦ï¼‰
            </div>
            <p style="margin-top:0.8rem;"><strong>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿å½¢å¼:</strong></p>
            <ul style="padding-left:1.2rem; line-height:2;">
                <li><strong>Positive Pairs:</strong> (è³ªå•, æ­£ã—ã„æ–‡æ›¸ãƒãƒ£ãƒ³ã‚¯) ã®ãƒšã‚¢</li>
                <li><strong>Hard Negatives:</strong> (è³ªå•, é–¢é€£ã™ã‚‹ãŒå›ç­”ã«ãªã‚‰ãªã„æ–‡æ›¸) ã‚’è¿½åŠ ã™ã‚‹ã¨åŠ¹æœå‘ä¸Š</li>
                <li><strong>ãƒ„ãƒ¼ãƒ«:</strong> <code>sentence-transformers</code> ã® <code>SentenceTransformerTrainer</code></li>
            </ul>
            <div class="code-block">from sentence_transformers import SentenceTransformer, losses
model = SentenceTransformer('intfloat/multilingual-e5-base')
train_loss = losses.MultipleNegativesRankingLoss(model)
# DataLoader + fit() ã§å­¦ç¿’
# â†’ langchain_rag.py ã® embeddings ã«é©ç”¨</div>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> LLMã®æ–‡ç« ç”Ÿæˆå“è³ªè‡ªä½“ã¯æ”¹å–„ã•ã‚Œãªã„ã€‚ãƒ‡ãƒ¼ã‚¿é‡ãŒå°‘ãªã„ã¨overfitã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚</p>
        </div>

        <!-- 10. ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ -->
        <div class="card">
            <h3>10. æ—¥æœ¬èªç‰¹åŒ–ãƒ¢ãƒ‡ãƒ«ã¸ã®åˆ‡æ›¿</h3>
            <div style="margin-bottom:0.8rem;"><span class="tag tag-green">GPUä¸è¦</span> <span class="tag tag-green">é›£æ˜“åº¦: ä½</span> <span class="tag tag-blue">åŠ¹æœ: â˜…â˜…â˜…â˜…</span> <span class="tag tag-teal">å·¥æ•°: 30åˆ†ã€œ1æ—¥</span></div>
            <p><strong>æ¦‚è¦:</strong> ç¾åœ¨ã® <code>phi3:mini</code>ï¼ˆè‹±èªä¸­å¿ƒï¼‰ã‹ã‚‰ã€æ—¥æœ¬èªã«å¼·ã„ãƒ¢ãƒ‡ãƒ«ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã€‚ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã¯æœ€å°ï¼ˆãƒ¢ãƒ‡ãƒ«åã®å¤‰æ›´ã®ã¿ï¼‰ã§ã€æœ€ã‚‚å³åŠ¹æ€§ãŒé«˜ã„ã€‚</p>
            <div style="border-left:3px solid #ef5350; padding:0.5rem 0.8rem; margin:0.8rem 0; border-radius:0 4px 4px 0; background:rgba(239,83,80,0.06);">
                <strong>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:</strong> <span class="tag tag-red">LLMãƒ¢ãƒ‡ãƒ«å±¤</span>ï¼ˆãƒ¢ãƒ‡ãƒ«å·®æ›¿ãˆï¼‰<br>
                <strong>å½±éŸ¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:</strong> <code>agents/langchain_agent.py</code>ï¼ˆãƒ¢ãƒ‡ãƒ«åï¼‰ã€<code>chatbot_unified.py</code>ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ï¼‰ã€<code>docker-compose.yml</code>ï¼ˆOllamaã‚µãƒ¼ãƒ“ã‚¹ã®VRAM/ãƒ¡ãƒ¢ãƒªè¨­å®šï¼‰<br>
                <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®è€ƒæ…®ç‚¹:</strong> ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ ã«ä¼´ã†æ¨è«–ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å¢—åŠ ã€‚Streamlit UIã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã‚„ã€ChatOllamaã®<code>timeout</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ãŒå¿…è¦ã«ãªã‚‹å ´åˆãŒã‚ã‚‹ã€‚Dockerç’°å¢ƒã§ã¯Ollamaã‚³ãƒ³ãƒ†ãƒŠã®ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã‚‚ç¢ºèªãŒå¿…è¦
            </div>
            <p style="margin-top:0.8rem;"><strong>Ollamaå¯¾å¿œ æ—¥æœ¬èªå¯¾å¿œãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒ:</strong></p>
            <table style="margin: 0.5rem 0;">
                <thead><tr><th>ãƒ¢ãƒ‡ãƒ«</th><th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th><th>VRAMç›®å®‰</th><th>æ—¥æœ¬èªå“è³ª</th><th>é€Ÿåº¦</th><th>ç‰¹å¾´</th></tr></thead>
                <tbody>
                    <tr><td><code>phi3:mini</code></td><td>3.8B</td><td>3GB</td><td>â˜…â˜…â˜†â˜†â˜†</td><td>é«˜é€Ÿ</td><td>ç¾åœ¨ä½¿ç”¨ä¸­ã€‚è‹±èªä¸­å¿ƒ</td></tr>
                    <tr><td><code>gemma3:4b</code></td><td>4B</td><td>4GB</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>é«˜é€Ÿ</td><td>Googleè£½ã€‚å¤šè¨€èªæ”¹å–„</td></tr>
                    <tr><td><code>qwen2.5:7b</code></td><td>7B</td><td>5GB</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ä¸­é€Ÿ</td><td>Alibabaè£½ã€‚æ—¥ä¸­è‹±ã«å¼·ã„ã€‚æ¨å¥¨</td></tr>
                    <tr><td><code>llama3.1:8b</code></td><td>8B</td><td>6GB</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>ä¸­é€Ÿ</td><td>Metaè£½ã€‚æ±ç”¨æ€§é«˜ã„</td></tr>
                    <tr><td><code>qwen2.5:14b</code></td><td>14B</td><td>10GB</td><td>â˜…â˜…â˜…â˜…â˜…</td><td>ä½é€Ÿ</td><td>æœ€é«˜æ—¥æœ¬èªå“è³ªã€‚è¦VRAM</td></tr>
                    <tr><td><code>mistral-nemo:12b</code></td><td>12B</td><td>8GB</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ä½é€Ÿ</td><td>é•·æ–‡ç”Ÿæˆã«å¼·ã„</td></tr>
                    <tr><td><code>command-r:7b</code></td><td>7B</td><td>5GB</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ä¸­é€Ÿ</td><td>Cohereè£½ã€‚RAGæœ€é©åŒ–</td></tr>
                </tbody>
            </table>
            <p style="margin-top:0.8rem;"><strong>å°å…¥æ‰‹é †:</strong></p>
            <div class="code-block"># Ollamaã§ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
ollama pull qwen2.5:7b

# chatbot_unified.py ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ã«è¿½åŠ 
# agents/langchain_agent.py ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ‡ãƒ«ã‚’å¤‰æ›´</div>
            <p style="margin-top:0.5rem; color: var(--text-secondary);"><strong>é™ç•Œ:</strong> å¤§å‹ãƒ¢ãƒ‡ãƒ«ã»ã©æ¨è«–ãŒé…ããªã‚‹ã€‚VRAMä¸è¶³ã®å ´åˆã¯é¸æŠè‚¢ãŒé™ã‚‰ã‚Œã‚‹ã€‚ãƒ¢ãƒ‡ãƒ«å›ºæœ‰ã®ç™–ï¼ˆå›ç­”ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³å‚¾å‘ï¼‰ãŒã‚ã‚‹ã€‚</p>
        </div>
    </div>

    <!-- æ¨å¥¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— -->
    <div class="card">
        <h3>ğŸ—ºï¸ æ¨å¥¨å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</h3>
        <table>
            <thead><tr><th>Phase</th><th>æ‰‹æ³•</th><th>å·¥æ•°</th><th>GPU</th><th>æœŸå¾…åŠ¹æœ</th><th>å‰ææ¡ä»¶</th></tr></thead>
            <tbody>
                <tr><td><strong>Phase A</strong></td><td>ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿ï¼ˆ<code>qwen2.5:7b</code>ï¼‰+ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ—¥æœ¬èªåŒ–</td><td>1æ—¥</td><td>ä¸è¦</td><td>æ—¥æœ¬èªå¿œç­”ã®è‡ªç„¶ã•ãŒå¤§å¹…å‘ä¸Š</td><td>ãªã—ï¼ˆå³å®Ÿè¡Œå¯èƒ½ï¼‰</td></tr>
                <tr><td><strong>Phase B</strong></td><td>Embeddingãƒ¢ãƒ‡ãƒ«å¤‰æ›´ + RAGãƒãƒ£ãƒ³ã‚¯æœ€é©åŒ–</td><td>2æ—¥</td><td>ä¸è¦</td><td>æ¤œç´¢ç²¾åº¦å‘ä¸Šâ†’æ­£ç¢ºãªå›ç­”</td><td>Phase Aå®Œäº†æ¨å¥¨</td></tr>
                <tr><td><strong>Phase C</strong></td><td>Few-shotä¾‹ã®è¿½åŠ  + RAGãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ‹¡å……</td><td>2ã€œ3æ—¥</td><td>ä¸è¦</td><td>å›ç­”ã®ä¸€è²«æ€§ãƒ»å°‚é–€æ€§å‘ä¸Š</td><td>Phase Bå®Œäº†æ¨å¥¨</td></tr>
                <tr><td><strong>Phase D</strong></td><td>QLoRA Fine-tuningï¼ˆè¾²æ¥­Q&Aãƒ‡ãƒ¼ã‚¿ï¼‰</td><td>3ã€œ5æ—¥</td><td>1x RTX 3060+</td><td>ãƒ‰ãƒ¡ã‚¤ãƒ³ç‰¹åŒ–ã®å¿œç­”å“è³ª</td><td>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆä½œæˆ</td></tr>
                <tr><td><strong>Phase E</strong></td><td>DPOï¼ˆå›ç­”å“è³ªã®Preferenceå­¦ç¿’ï¼‰</td><td>5ã€œ7æ—¥</td><td>1x RTX 3060+</td><td>äººé–“ã®å¥½ã¿ã«åˆè‡´ã—ãŸå¿œç­”</td><td>Phase Då®Œäº† + Preferenceãƒ‡ãƒ¼ã‚¿</td></tr>
            </tbody>
        </table>
        <p style="margin-top:1rem;"><strong>ğŸ’¡ æ¨å¥¨:</strong> Phase Aã€œCã¯GPUä¸è¦ã§ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã®ã¿ã€‚ã¾ãšã“ã“ã‹ã‚‰ç€æ‰‹ã—ã€åŠ¹æœã‚’ç¢ºèªã—ã¦ã‹ã‚‰Phase Dä»¥é™ã®Fine-tuningã‚’æ¤œè¨ã™ã‚‹æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒæœ€ã‚‚åŠ¹ç‡çš„ã§ã™ã€‚</p>
    </div>
</div>

<!-- Footer -->
<div class="footer">
    ğŸŒ¾ aiagent-farm-poc ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ | è‡ªå‹•ç”Ÿæˆ: 2026å¹´2æœˆ14æ—¥ | ä½œè€…: karamaru
</div>

</body>
</html>
